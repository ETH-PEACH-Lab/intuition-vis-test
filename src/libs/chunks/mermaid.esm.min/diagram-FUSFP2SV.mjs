import{a as W}from"./chunk-FI6ZHBMQ.mjs";import{a as F}from"./chunk-O6RXMC2Z.mjs";import"./chunk-RLDXWZHR.mjs";import"./chunk-2PLC5FB4.mjs";import"./chunk-PO33TU2Q.mjs";import"./chunk-6UMARAD3.mjs";import"./chunk-V7KTAHBL.mjs";import"./chunk-QZ4PXIAY.mjs";import{a as R}from"./chunk-GCAN3TJ3.mjs";import"./chunk-VMDNBU76.mjs";import"./chunk-LEAL3RNQ.mjs";import{l as B}from"./chunk-EYGBHCO6.mjs";import"./chunk-EZ6AQD5Z.mjs";import{Fa as Y,Ia as z,La as _,Ma as M,Na as N,Oa as j,Pa as A,Qa as T,Ra as q,b as E,h as P,pa as X}from"./chunk-PZJP3F4K.mjs";import"./chunk-RS46GSJM.mjs";import{a as c}from"./chunk-J73WXDYM.mjs";var H=[],$=[...H],nt=X.visual,ot=c(()=>B({...nt,...Y().visual}),"getConfig"),it=c(()=>$,"getPages"),lt=c(a=>{$.push(a)},"addPage"),st=c(()=>{_(),$=[...H]},"clear"),V={getPages:it,addPage:lt,getConfig:ot,clear:st,setAccTitle:M,getAccTitle:N,setDiagramTitle:T,getDiagramTitle:q,getAccDescription:A,setAccDescription:j};var ct=c(a=>{W(a,V);for(let t of a.pages){let i=t.subDiagrams.map(r=>{switch(r.diagramType){case"array":return{type:"array",orientation:r.orientation,title:r.title,showIndex:r.showIndex,label:r.label,elements:r.elements.map(e=>({value:e.value,color:e.color,arrow:e.arrowLabel!==void 0&&e.arrowLabel!==null,arrowLabel:e.arrowLabel}))};case"matrix":return{type:"matrix",title:r.title,rows:r.rows.map(e=>({elements:e.elements.map(n=>({value:n.value,color:n.color}))})),showIndex:r.showIndex,label:r.label};case"stack":return{type:"stack",orientation:r.orientation,title:r.title,showIndex:r.showIndex,label:r.label,size:r.size,elements:r.elements.map(e=>({value:e.value,color:e.color,arrow:e.arrowLabel!==void 0&&e.arrowLabel!==null,arrowLabel:e.arrowLabel}))};case"tree":return{type:"tree",title:r.title,label:r.label,elements:r.elements.map(e=>({nodeId:e.nodeId,left:e.left=="None"?void 0:e.left,right:e.right=="None"?void 0:e.right,value:e.value,color:e.color}))};case"graph":return{type:"graph",title:r.title,label:r.label,elements:r.elements.map(e=>{if(e.$type=="NodeDefinition")return{type:"node",nodeId:e.nodeId,value:e.value,color:e.color,arrow:e.arrowLabel!==void 0&&e.arrowLabel!==null,arrowLabel:e.arrowLabel,hidden:e.hidden};if(e.$type=="EdgeDefinition")return{type:"edge",start:e.start,end:e.end,value:e.value,color:e.color};throw new Error("Unknown graph element type")})};case"linkedList":return{type:"linkedList",title:r.title,label:r.label,elements:r.elements.map(e=>({value:e.value,color:e.color,arrow:!!e.arrowLabel,arrowLabel:e.arrowLabel}))};case"text":return{type:"text",title:r.title,elements:r.elements.map(e=>e.value)};default:throw new Error(`Unknown diagram type: ${r.diagramType}`)}});V.addPage({subDiagrams:i})}},"populate"),O={parse:async a=>{let t=await F("visual",a);E.debug(t),ct(t)}};var U=c((a,t,i,r,e)=>{a.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX","5").attr("refY","5").attr("markerWidth","6").attr("markerHeight","6").attr("orient","auto-start-reverse").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black");let n="16",o=100,l=20,s="16",d=100,p=160;t.title&&a.append("text").attr("x",o).attr("y",l).attr("fill",r.labelColor).attr("font-size",n).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrayDiagramTitle").text(t.title);let b=a.append("g").attr("class","component").attr("id",`component_${e}`).attr("transform",`translate(50, ${i+40})`),y=0;if(t.elements.forEach((h,w)=>{dt(b,h,w,r,t.showIndex||!1,y),y+=1}),t.label){let h=p,w=d;b.append("text").attr("x",w).attr("y",h).attr("fill",r.labelColor).attr("font-size",s).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrayDiagramLabel").text(t.label)}},"drawArrayDiagram"),dt=c((a,t,i,{labelColor:r,labelFontSize:e},n,o)=>{let l="16",s="16",d=a.append("g");d.attr("class","unit").attr("id",`unit_${o}`);let p=40,m=i*p,b=50,y=pt(t.color);if(t.arrow){let h=b-40,w=b-10;d.append("line").attr("x1",m+20).attr("y1",h).attr("x2",m+20).attr("y2",w).attr("stroke","black").attr("stroke-width","1.5").attr("marker-end","url(#arrowhead)"),t.arrowLabel&&d.append("text").attr("x",m+20).attr("y",h-20).attr("fill",r).attr("font-size",e).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrowContext").text(t.arrowLabel)}d.append("rect").attr("x",m).attr("y",b).attr("width",p).attr("height",p).style("fill",y).attr("stroke","#000000").attr("stroke-width","2px").attr("class","arrayElement"),d.append("text").attr("x",m+p/2).attr("y",b+p/2).attr("fill",r).attr("font-size",s).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(t.value),n&&d.append("text").attr("x",m+p/2).attr("y",b+p+20).attr("fill",r).attr("font-size",l).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","indexLabel").text(i)},"drawElement"),pt=c(a=>{switch(a){case"blue":return"rgba(0, 0, 255, 0.3)";case"green":return"rgba(0, 255, 0, 0.3)";case"red":return"rgba(255, 0, 0, 0.3)";default:return"none"}},"getColor");var J=c((a,t,i,r,e)=>{let o=t.title?100:0,l=a.append("g");l.attr("transform",`translate(0, ${i})`).attr("class","component").attr("id",`component_${e}`);let s=t.rows.length,d=Math.max(...t.rows.map(p=>p.elements.length));if(t.title&&a.append("text").attr("x",50).attr("y",i).attr("fill",r.labelColor).attr("font-size",r.labelFontSize).attr("dominant-baseline","hanging").attr("text-anchor","start").attr("class","diagramTitle").text(t.title),t.rows.forEach((p,m)=>{p.elements.forEach((b,y)=>{mt(l,b,m,y,r),gt(l,m,y,r)})}),t.label){let p=s*50+50,m=d*25;l.append("text").attr("x",m).attr("y",p).attr("fill",r.labelColor).attr("font-size",r.labelFontSize).attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","arrayDiagramLabel").text(t.label)}t.showIndex&&ut(l,s,d,r)},"drawMatrixDiagram"),mt=c((a,t,i,r,{labelColor:e,labelFontSize:n})=>{let o=a.append("g");o.attr("class","unit").attr("id",`unit_(${i},${r})`);let l=r*50,s=i*50,d="#000000",p="1.2px",m=ft(t.color);o.append("rect").attr("x",l).attr("y",s).attr("width",50).attr("height",50).style("fill",m).attr("stroke",d).attr("stroke-width",p).attr("class","matrixElement"),o.append("text").attr("x",l+25).attr("y",s+25).attr("fill",e).attr("font-size",n).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(t.value.toString())},"drawElement"),ut=c((a,t,i,{labelColor:r,labelFontSize:e})=>{let n=a.append("g");for(let o=0;o<t;o++)n.append("text").attr("x",-10).attr("y",o*50+25).attr("fill",r).attr("font-size",e).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","rowIndex").text(o.toString());for(let o=0;o<i;o++)n.append("text").attr("x",o*50+25).attr("y",-10).attr("fill",r).attr("font-size",e).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","colIndex").text(o.toString())},"addIndices"),gt=c((a,t,i,{borderColor:r,borderWidth:e})=>{let n=a.append("g"),o=i*50,l=t*50;n.append("rect").attr("x",o).attr("y",l).attr("width",50).attr("height",50).attr("stroke",r).attr("stroke-width",e).attr("fill","none")},"drawGrid"),ft=c(a=>{switch(a){case"blue":return"rgba(0, 0, 255, 0.3)";case"green":return"rgba(0, 255, 0, 0.3)";case"red":return"rgba(255, 0, 0, 0.3)";default:return"none"}},"getColor");var K=c((a,t,i,r)=>{let e=a.append("g");e.attr("transform",`translate(0, ${i})`).attr("class","component").attr("id",`component_${r}`);let n=t.size*40;xt(e,50,0,70,n);let o=0;if(t.elements.forEach((l,s)=>{let d=t.size-t.elements.length+s;bt(e,l,d,o),o+=1}),t.label){let s=n+40+20;e.append("text").attr("x",85).attr("y",s).attr("fill","black").attr("font-size","16").attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","stackDiagramLabel").text(t.label)}},"drawStackDiagram"),bt=c((a,t,i,r)=>{let e=a.append("g");e.attr("class","unit").attr("id",`unit_${r}`);let n=50,o=i*40,l=yt(t.color);e.append("rect").attr("x",n).attr("y",o).attr("width",70).attr("height",40).style("fill",l).attr("stroke","black").attr("stroke-width","1").attr("class","stackElement"),e.append("text").attr("x",n+35).attr("y",o+20).attr("fill","black").attr("font-size","12").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","elementLabel").text(t.value)},"drawElement"),xt=c((a,t,i,r,e)=>{let n="#000000";a.append("line").attr("x1",t).attr("y1",i).attr("x2",t).attr("y2",i+e).attr("stroke",n).attr("stroke-width",2),a.append("line").attr("x1",t+r).attr("y1",i).attr("x2",t+r).attr("y2",i+e).attr("stroke",n).attr("stroke-width",2),a.append("line").attr("x1",t).attr("y1",i+e).attr("x2",t+r).attr("y2",i+e).attr("stroke",n).attr("stroke-width",2)},"drawFramework"),yt=c(a=>{switch(a){case"blue":return"rgba(0, 0, 255, 0.3)";case"green":return"rgba(0, 255, 0, 0.3)";case"red":return"rgba(255, 0, 0, 0.3)";default:return"none"}},"getColor");var Q=c((a,t,i,r)=>{let e=a.append("g");e.attr("transform",`translate(0, ${i})`).attr("class","component").attr("id",`component_${r}`);let n=t.elements.filter(s=>s.type=="node"),o=t.elements.filter(s=>s.type=="edge"),l=ht(n||[]);if(o&&o.forEach(s=>{kt(e,s,l)}),n){let s=0;n.forEach(d=>{wt(e,d,l[d.nodeId],s),s+=1})}if(t.label){let s=n?Math.ceil(n.length/3)*100+70:100;e.append("text").attr("x",150).attr("y",s).attr("fill","black").attr("font-size","16").attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","graphDiagramLabel").text(t.label)}},"drawGraphDiagram"),ht=c(a=>{let t={},n=2*Math.PI/a.length;return a.forEach((o,l)=>{let s=l*n;t[o.nodeId]={x:150+100*Math.cos(s),y:150+100*Math.sin(s)}}),t},"calculateNodePositions"),wt=c((a,t,i,r)=>{let e=i.x,n=i.y,o=vt(t.color),l=a.append("g");l.attr("class","unit").attr("id",`unit_${r}`),l.append("circle").attr("cx",e).attr("cy",n).attr("r",20).style("fill",o).attr("stroke","black").attr("stroke-width","1").attr("class","graphNode"),l.append("text").attr("x",e).attr("y",n).attr("dy",".35em").attr("fill","black").attr("font-size","12").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","nodeLabel").text(t.value||t.nodeId)},"drawNode"),kt=c((a,t,i)=>{let r=i[t.start],e=i[t.end];if(r&&e){let{startX:n,startY:o,endX:l,endY:s}=St(r,e),d=t.color||"black";a.append("line").attr("x1",n).attr("y1",o).attr("x2",l).attr("y2",s).attr("stroke",d).attr("stroke-width","2"),t.value&&a.append("text").attr("x",(n+l)/2).attr("y",(o+s)/2).attr("fill","black").attr("font-size","12").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","edgeLabel").text(t.value)}},"drawEdge"),St=c((a,t)=>{let r=t.x-a.x,e=t.y-a.y,n=Math.sqrt(r*r+e*e),o=r*20/n,l=e*20/n;return{startX:a.x+o,startY:a.y+l,endX:t.x-o,endY:t.y-l}},"calculateEdgePosition"),vt=c(a=>{switch(a){case"blue":return"rgba(0, 0, 255, 0.3)";case"green":return"rgba(0, 255, 0, 0.3)";case"red":return"rgba(255, 0, 0, 0.3)";default:return"none"}},"getColor");var Z=c((a,t,i,r)=>{let e=a.append("g");e.attr("transform",`translate(0, ${i})`).attr("class","component").attr("id",`component_${r}`);let n=t.elements||[],o=Pt(n),l=Gt(n);if(o&&o.forEach(s=>{Et(e,s,l)}),n){let s=0;n.forEach(d=>{Vt(e,d,l[d.nodeId],s),s+=1})}if(t.label){let s=n?Math.ceil(n.length/3)*100+70:100;e.append("text").attr("x",150).attr("y",s).attr("fill","black").attr("font-size","16").attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","treeDiagramLabel").text(t.label)}},"drawTreeDiagram"),Gt=c(a=>{let t={},r=Lt(a),e=r>2?100:70,n=0,o=c((s,d,p)=>{let m=e-p*(e/r),b=d,y=n+p*100;t[s.nodeId]={x:b,y};let h=a.find(L=>L.nodeId===s.left),w=a.find(L=>L.nodeId===s.right);h&&o(h,b-m,p+1),w&&o(w,b+m,p+1)},"calculatePosition"),l=a.find(s=>!s.parentId);return l&&o(l,150,0),t},"calculateNodePositions"),Lt=c(a=>{let t=c((r,e)=>{let n=a.find(d=>d.nodeId===r.left),o=a.find(d=>d.nodeId===r.right),l=n?t(n,e+1):e,s=o?t(o,e+1):e;return Math.max(l,s)},"findDepth"),i=a.find(r=>!r.parentId);return i?t(i,0):0},"calculateMaxDepth"),Pt=c(a=>{let t=[];return a.forEach(i=>{i.left&&t.push({start:i.nodeId,end:i.left}),i.right&&t.push({start:i.nodeId,end:i.right})}),t},"calculateTreeEdges"),Vt=c((a,t,i,r)=>{let e=i.x,n=i.y,o=Ct(t.color),l=a.append("g");l.attr("class","unit").attr("id",`unit_${r}`),l.append("circle").attr("cx",e).attr("cy",n).attr("r",20).style("fill",o).attr("stroke","black").attr("stroke-width","1").attr("class","treeNode"),l.append("text").attr("x",e).attr("y",n).attr("dy",".35em").attr("fill","black").attr("font-size","12").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","nodeLabel").text(t.value||t.nodeId)},"drawNode"),Et=c((a,t,i)=>{let r=i[t.start],e=i[t.end];if(r&&e){let{startX:n,startY:o,endX:l,endY:s}=Dt(r,e),d=t.color||"black";a.append("line").attr("x1",n).attr("y1",o).attr("x2",l).attr("y2",s).attr("stroke",d).attr("stroke-width","2"),t.value&&a.append("text").attr("x",(n+l)/2).attr("y",(o+s)/2).attr("fill","black").attr("font-size","12").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","edgeLabel").text(t.value)}},"drawEdge"),Dt=c((a,t)=>{let r=t.x-a.x,e=t.y-a.y,n=Math.sqrt(r*r+e*e),o=r*20/n,l=e*20/n;return{startX:a.x+o,startY:a.y+l,endX:t.x-o,endY:t.y-l}},"calculateEdgePosition"),Ct=c(a=>{switch(a){case"blue":return"rgba(0, 0, 255, 0.3)";case"green":return"rgba(0, 255, 0, 0.3)";case"red":return"rgba(255, 0, 0, 0.3)";default:return"none"}},"getColor");var tt=c((a,t,i,r)=>{let e=a.append("g");e.attr("transform",`translate(0, ${i})`).attr("class","component").attr("id",`component_${r}`),e.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 0 10 10").attr("refX","10").attr("refY","5").attr("markerWidth","6").attr("markerHeight","6").attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black");let n=t.elements,o=It(n||[]),l=0;n&&n.forEach((s,d)=>{$t(e,s,o[d],d<n.length-1,l),l+=1}),t.label&&e.append("text").attr("x",150).attr("y",100).attr("fill","black").attr("font-size","16").attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","linkedListDiagramLabel").text(t.label)},"drawLinkedListDiagram"),It=c(a=>{let t=[];return a.forEach((n,o)=>{t.push({x:50+o*120,y:50})}),t},"calculateNodePositions"),$t=c((a,t,i,r,e)=>{let n=i.x,o=i.y,l=Xt(t.color),s=a.append("g");s.attr("class","unit").attr("id",`unit_${e}`),s.append("rect").attr("x",n).attr("y",o).attr("width",60).attr("height",30).style("fill",l).attr("stroke","black").attr("stroke-width","1").attr("class","linkedListNode"),s.append("text").attr("x",n+30).attr("y",o+15).attr("dy",".35em").attr("fill","black").attr("font-size","12").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","nodeLabel").text(t.value),t.arrow&&(s.append("line").attr("x1",n+30).attr("y1",o-30).attr("x2",n+30).attr("y2",o).attr("stroke","black").attr("stroke-width","2").attr("marker-end","url(#arrowhead)"),t.arrowLabel&&s.append("text").attr("x",n+30).attr("y",o-40).attr("fill","black").attr("font-size","16").attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","arrowLabel").text(t.arrowLabel)),r&&s.append("line").attr("x1",n+60).attr("y1",o+15).attr("x2",n+60+60).attr("y2",o+15).attr("stroke","black").attr("stroke-width","2").attr("marker-end","url(#arrowhead)")},"drawNode"),Xt=c(a=>{switch(a){case"blue":return"rgba(0, 0, 255, 0.3)";case"green":return"rgba(0, 255, 0, 0.3)";case"red":return"rgba(255, 0, 0, 0.3)";default:return"white"}},"getColor");var et=c((a,t,i,r)=>{let e=a.append("g");e.attr("transform",`translate(0, ${i})`).attr("class","component").attr("id",`component_${r}`);let n=0,o=0;if(t.elements.forEach(l=>{n=Bt(e,l,n,o),o+=1}),t.label){let l=n+20;e.append("text").attr("x",50).attr("y",l).attr("fill","black").attr("font-size","16").attr("dominant-baseline","hanging").attr("text-anchor","middle").attr("class","textDiagramLabel").text(t.label)}},"drawTextDiagram"),Bt=c((a,t,i,r)=>{let e=a.append("g").attr("class","unit").attr("id",`unit_${r}`),n=50,o=t.split(`
`);return o.forEach((l,s)=>{let d=i+s*20;e.append("text").attr("x",n).attr("y",d).attr("fill","black").attr("font-size","20").attr("dominant-baseline","hanging").attr("class","textElement").text(l)}),i+o.length*20},"drawElement");var Yt=c((a,t,i,r)=>{let e=r.db,n=e.getConfig(),o=e.getPages(),l=e.getDiagramTitle(),s=800,d=1e3,p=R(t),m=0,b=null,y=c(k=>{p.selectAll("g.page").attr("display","none"),p.select(`#page${k}`).attr("display","inline"),p.select("#prevButton").attr("fill",k>0?"#007bff":"#c0c0c0"),p.select("#nextButton").attr("fill",k<o.length-1?"#007bff":"#c0c0c0"),p.select("#pageIndicator").text(`${k+1} / ${o.length}`)},"renderPage"),h=c((k,v)=>{let S=k.append("g").attr("class","navigation-buttons"),g=40,u=20,f=10,x=d/2-(g*1.5+f),G=s-60,D=S.append("g").attr("id","prevButtonGroup").attr("cursor","pointer");D.append("rect").attr("id","prevButton").attr("x",x).attr("y",G).attr("width",g).attr("height",u).attr("fill","#c0c0c0"),D.append("text").text("<").attr("x",x+g/2).attr("y",G+u/2).attr("fill","white").attr("text-anchor","middle").attr("alignment-baseline","middle");let C=S.append("g").attr("id","playButtonGroup").attr("cursor","pointer");C.append("rect").attr("id","playButton").attr("x",x+g+f).attr("y",G).attr("width",g).attr("height",u).attr("fill","#007bff"),C.append("text").text("\u25B6").attr("x",x+g+f+g/2).attr("y",G+u/2).attr("fill","white").attr("text-anchor","middle").attr("alignment-baseline","middle");let I=S.append("g").attr("id","nextButtonGroup").attr("cursor","pointer");I.append("rect").attr("id","nextButton").attr("x",x+2*(g+f)).attr("y",G).attr("width",g).attr("height",u).attr("fill","#007bff"),I.append("text").text(">").attr("x",x+2*(g+f)+g/2).attr("y",G+u/2).attr("fill","white").attr("text-anchor","middle").attr("alignment-baseline","middle"),S.append("text").attr("id","pageIndicator").attr("x",d-50).attr("y",s-50).attr("fill","black").attr("text-anchor","middle").attr("alignment-baseline","middle").text(`1 / ${v}`),D.node()?.addEventListener("click",()=>{m>0&&(m-=1,y(m))}),I.node()?.addEventListener("click",()=>{m<v-1&&(m+=1,y(m))}),C.node()?.addEventListener("click",()=>{b?(clearInterval(b),b=null,P("#playButton text").text("\u25B6"),P("#playButton").attr("fill","#007bff")):(b=1e3,P("#playButton text").text("\u275A\u275A"),P("#playButton").attr("fill","#c0c0c0"))})},"addNavigationButtons"),w=c((k,v,S)=>{let g=k.append("g").attr("id",`page${S}`).attr("class","page").attr("display",S===0?"inline":"none");l&&g.append("text").text(l).attr("x",d/2).attr("y",25).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","pageTitle");let u=50,f=0;for(let x of v.subDiagrams)switch(x.type){case"array":{U(g,x,u,n,f),f+=1,u+=250;break}case"matrix":{J(g,x,u,n,f),f+=1,u+=250;break}case"stack":{K(g,x,u,f),f+=1,u+=250;break}case"graph":{Q(g,x,u,f),f+=1,u+=250;break}case"tree":{Z(g,x,u,f),f+=1,u+=250;break}case"linkedList":{tt(g,x,u,f),f+=1,u+=250;break}case"text":{et(g,x,u,f),f+=1,u+=250;break}default:throw new Error(`Unknown diagram type: ${x.type}`)}},"drawPage");p.attr("viewBox",`0 0 ${d} ${s}`),z(p,s,d,n.useMaxWidth),o.forEach((k,v)=>{w(p,k,v)}),h(p,o.length),y(m);let L=`
    (function() {
      const svg = document.getElementById('${t}');
      let currentPage = 0;
      const totalPages = ${o.length};
      let playInterval = null;

      function renderPage(pageIndex) {
        const pages = svg.querySelectorAll('g.page');
        pages.forEach(page => {
          page.style.display = 'none';
        });
        svg.querySelector('#page' + pageIndex).style.display = 'inline';

        const prevButton = svg.querySelector('#prevButton');
        const nextButton = svg.querySelector('#nextButton');
        
        if (prevButton) prevButton.setAttribute('fill', pageIndex > 0 ? '#007bff' : '#c0c0c0');
        if (nextButton) nextButton.setAttribute('fill', pageIndex < totalPages - 1 ? '#007bff' : '#c0c0c0');

        // Update current page display
        svg.querySelector('#pageIndicator').textContent = (pageIndex + 1) + ' / ' + totalPages;
      }

      svg.querySelector('#prevButtonGroup').addEventListener('click', function() {
        if (currentPage > 0) {
          currentPage -= 1;
          renderPage(currentPage);
        }
      });

      svg.querySelector('#nextButtonGroup').addEventListener('click', function() {
        if (currentPage < totalPages - 1) {
          currentPage += 1;
          renderPage(currentPage);
        }
      });

      svg.querySelector('#playButtonGroup').addEventListener('click', function() {
        if (playInterval) {
          clearInterval(playInterval);
          playInterval = null;
          svg.querySelector('#playButton text').textContent = '\u25B6';
          svg.querySelector('#playButton').setAttribute('fill', '#007bff');
        } else {
          playInterval = setInterval(() => {
            if (currentPage < totalPages - 1) {
              currentPage += 1;
            } else {
              currentPage = 0;
            }
            renderPage(currentPage);
          }, 1000);
          svg.querySelector('#playButton text').textContent = '\u275A\u275A';
          svg.querySelector('#playButton').setAttribute('fill', '#c0c0c0');
        }
      });

      renderPage(currentPage);
    })();
  `;p.append("script").attr("type","text/javascript").text(L)},"draw"),rt={draw:Yt};var at=c((a={})=>(E.debug({options:a}),`
    .element {
      font-size: ${a.array?.elementFontSize??"10px"};
      fill: ${a.array?.valueColor??"black"};
    }
    .element.index {
      fill: ${a.array?.indexColor??"black"};
    }
    .element {
      stroke: ${a.array?.elementStrokeColor??"black"};
      stroke-width: ${a.array?.elementStrokeWidth??"1"};
      fill: ${a.array?.elementFillColor??"#efefef"};
    }
  `),"styles");var Ve={parser:O,db:V,renderer:rt,styles:at};export{Ve as diagram};
