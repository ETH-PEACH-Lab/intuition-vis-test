{
  "version": 3,
  "sources": ["../../../src/diagrams/testslides/db.ts", "../../../src/diagrams/testslides/parser.ts", "../../../src/diagrams/testslides/renderer.ts", "../../../src/diagrams/testslides/styles.ts", "../../../src/diagrams/testslides/diagram.ts"],
  "sourcesContent": ["import { getConfig as commonGetConfig } from '../../config.js';\nimport type { ArrayDiagramConfig } from '../../config.type.js';\nimport DEFAULT_CONFIG from '../../defaultConfig.js';\nimport { cleanAndMerge } from '../../utils.js';\nimport {\n  clear as commonClear,\n  getAccDescription,\n  getAccTitle,\n  getDiagramTitle,\n  setAccDescription,\n  setAccTitle,\n  setDiagramTitle,\n} from '../common/commonDb.js';\nimport type { TestSlidesDB, TestSlidesData, ArraySlide } from './types.js';\n\nconst defaultTestSlidesData: TestSlidesData = {\n  slides: [],\n};\n\nlet data: TestSlidesData = structuredClone(defaultTestSlidesData);\n\nconst DEFAULT_ARRAY_CONFIG: Required<ArrayDiagramConfig> = DEFAULT_CONFIG.array;\n\nconst getConfig = (): Required<ArrayDiagramConfig> => {\n  return cleanAndMerge({\n    ...DEFAULT_ARRAY_CONFIG,\n    ...commonGetConfig().array,\n  });\n};\n\nconst getSlides = (): ArraySlide[] => data.slides;\n\nconst addSlide = (slide: ArraySlide) => {\n  data.slides.push(slide);\n};\n\nconst clear = () => {\n  commonClear();\n  data = structuredClone(defaultTestSlidesData);\n};\n\nexport const db: TestSlidesDB = {\n  addSlide,\n  getSlides,\n  getConfig,\n  clear,\n  setAccTitle,\n  getAccTitle,\n  setDiagramTitle,\n  getDiagramTitle,\n  getAccDescription,\n  setAccDescription,\n};\n", "import type { TestSlidesDiagram } from '@mermaid-js/parser';\nimport { parse } from '@mermaid-js/parser';\nimport type { ParserDefinition } from '../../diagram-api/types.js';\nimport { log } from '../../logger.js';\nimport { db } from './db.js';\nimport { populateCommonDb } from '../common/populateCommonDb.js';\nimport type { ArraySlide, ArrayElement as LocalArrayElement } from './types.js';\n\nconst populate = (ast: TestSlidesDiagram) => {\n  populateCommonDb(ast, db); // Ensure common properties are populated\n  for (const slide of ast.pages) {\n    const elements: LocalArrayElement[] = slide.elements.map((e) => ({\n      value: e.value,\n      arrow: e.arrow === 'arrow',\n      context: e.context,\n      color: e.color,\n    }));\n    db.addSlide({ showIndex: !!slide.showIndex, elements });\n  }\n};\n\nexport const parser: ParserDefinition = {\n  parse: async (input: string): Promise<void> => {\n    // cspell:ignore testslides\n    const ast: TestSlidesDiagram = await parse('testslides', input);\n    log.debug(ast);\n    populate(ast);\n  },\n};\n", "// import * as d3 from 'd3';\n// import type { Diagram } from '../../Diagram.js';\n// import type { ArrayDiagramConfig } from '../../config.type.js';\n// import type { DiagramRenderer, DrawDefinition, Group, SVG } from '../../diagram-api/types.js';\n// import { selectSvgElement } from '../../rendering-util/selectSvgElement.js';\n// import { configureSvgSize } from '../../setupGraphViewbox.js';\n// import type { TestSlidesDB, ArraySlide, ArrayElement } from './types.js';\n\n// const draw: DrawDefinition = (_text, id, _version, diagram: Diagram) => {\n//   const db = diagram.db as TestSlidesDB;\n//   const config = db.getConfig();\n//   const slides = db.getSlides();\n//   const title = db.getDiagramTitle();\n//   const svgHeight = 800;\n//   const svgWidth = 600;\n//   const svg: SVG = selectSvgElement(id);\n\n//   let currentPage = 0;\n\n//   const renderPage = (pageIndex: number) => {\n//     svg.selectAll('g.page').attr('style', 'display: none');\n//     svg.select(`#page${pageIndex}`).attr('style', 'display: inline');\n\n//     // Update button states\n//     svg.select('#prevButton').attr('fill', pageIndex > 0 ? '#007bff' : '#c0c0c0');\n//     svg.select('#nextButton').attr('fill', pageIndex < slides.length - 1 ? '#007bff' : '#c0c0c0');\n//   };\n\n//   const addNavigationButtons = (svg: SVG, totalPages: number) => {\n//     const buttonGroup = svg.append('g')\n//       .attr('class', 'navigation-buttons');\n\n//     // Prev button\n//     const prevButtonGroup = buttonGroup.append('g')\n//       .attr('id', 'prevButtonGroup')\n//       .attr('cursor', 'pointer');\n\n//     prevButtonGroup.append('rect')\n//       .attr('id', 'prevButton')\n//       .attr('x', svgWidth / 2 - 80)\n//       .attr('y', 450)\n//       .attr('width', 60)\n//       .attr('height', 30)\n//       .attr('fill', '#c0c0c0'); // Initially disabled\n\n//     prevButtonGroup.append('text')\n//       .text('Prev')\n//       .attr('x', svgWidth / 2 - 50)\n//       .attr('y', 470)\n//       .attr('fill', 'white')\n//       .attr('text-anchor', 'middle')\n//       .attr('alignment-baseline', 'middle');\n\n//     // Next button\n//     const nextButtonGroup = buttonGroup.append('g')\n//       .attr('id', 'nextButtonGroup')\n//       .attr('cursor', 'pointer');\n\n//     nextButtonGroup.append('rect')\n//       .attr('id', 'nextButton')\n//       .attr('x', svgWidth / 2 + 20)\n//       .attr('y', 450)\n//       .attr('width', 60)\n//       .attr('height', 30)\n//       .attr('fill', '#007bff'); // Initially enabled\n\n//     nextButtonGroup.append('text')\n//       .text('Next')\n//       .attr('x', svgWidth / 2 + 50)\n//       .attr('y', 470)\n//       .attr('fill', 'white')\n//       .attr('text-anchor', 'middle')\n//       .attr('alignment-baseline', 'middle');\n//   };\n\n//   const drawSlide = (svg: SVG, slide: ArraySlide, pageIndex: number) => {\n//     const pageGroup = svg.append('g')\n//       .attr('id', `page${pageIndex}`)\n//       .attr('class', 'page')\n//       .attr('style', pageIndex === 0 ? 'display: inline' : 'display: none');\n\n//     if (title) {\n//       pageGroup\n//         .append('text')\n//         .text(title)\n//         .attr('x', svgWidth / 2)\n//         .attr('y', 25)\n//         .attr('dominant-baseline', 'middle')\n//         .attr('text-anchor', 'middle')\n//         .attr('class', 'arrayTitle');\n//     }\n\n//     for (const [index, element] of slide.elements.entries()) {\n//       drawElement(pageGroup as unknown as SVG, element, index, config, slide.showIndex);\n//     }\n//   };\n\n//   svg.attr('viewBox', `0 0 ${svgWidth} ${svgHeight}`);\n//   configureSvgSize(svg, svgHeight, svgWidth, config.useMaxWidth);\n\n//   defineArrowhead(svg);\n\n//   slides.forEach((slide, index) => {\n//     drawSlide(svg, slide, index);\n//   });\n\n//   addNavigationButtons(svg, slides.length);\n\n//   renderPage(currentPage);\n\n//   // Inject page-switching logic as inline JavaScript\n//   const switchPageScript = `\n//     (function() {\n//       const svg = document.getElementById('${id}');\n//       let currentPage = 0;\n//       const totalPages = ${slides.length};\n\n//       function renderPage(pageIndex) {\n//         const pages = svg.querySelectorAll('g.page');\n//         pages.forEach(page => {\n//           page.style.display = 'none';\n//         });\n//         svg.querySelector('#page' + pageIndex).style.display = 'inline';\n\n//         const prevButton = svg.querySelector('#prevButton');\n//         const nextButton = svg.querySelector('#nextButton');\n\n//         if (prevButton) prevButton.setAttribute('fill', pageIndex > 0 ? '#007bff' : '#c0c0c0');\n//         if (nextButton) nextButton.setAttribute('fill', pageIndex < totalPages - 1 ? '#007bff' : '#c0c0c0');\n//       }\n\n//       svg.querySelector('#prevButtonGroup').addEventListener('click', function() {\n//         if (currentPage > 0) {\n//           currentPage -= 1;\n//           renderPage(currentPage);\n//         }\n//       });\n\n//       svg.querySelector('#nextButtonGroup').addEventListener('click', function() {\n//         if (currentPage < totalPages - 1) {\n//           currentPage += 1;\n//           renderPage(currentPage);\n//         }\n//       });\n\n//       renderPage(currentPage);\n//     })();\n//   `;\n\n//   // Append the script element to the SVG\n//   svg.append('script').attr('type', 'text/javascript').text(switchPageScript);\n// };\n\n// const getColor = (color?: string): string => {\n//   switch (color) {\n//     case 'blue':\n//       return 'rgba(0, 0, 255, 0.3)'; // Semi-transparent blue\n//     case 'green':\n//       return 'rgba(0, 255, 0, 0.3)'; // Semi-transparent green\n//     case 'red':\n//       return 'rgba(255, 0, 0, 0.3)'; // Semi-transparent red\n//     default:\n//       return 'none';\n//   }\n// };\n\n// const drawElement = (\n//   svg: SVG,\n//   element: ArrayElement,\n//   index: number,\n//   {\n//     elementColor,\n//     borderColor,\n//     borderWidth,\n//     labelColor,\n//     labelFontSize,\n//   }: Required<ArrayDiagramConfig>,\n//   showIndex: boolean\n// ) => {\n//   const group: Group = svg.append('g');\n//   const elementX = index * 50 + 50; // Adjust the x coordinate based on the index\n//   const elementY = 100; // Increased the y coordinate to provide more space above\n\n//   const fillColor = getColor(element.color);\n\n//   if (element.arrow) {\n//     // Draw arrow\n//     const arrowYStart = elementY - 40; // Position the arrow head higher\n//     const arrowYEnd = elementY - 10;   // Position the end of the arrow at the top edge of the square\n//     group\n//       .append('line')\n//       .attr('x1', elementX + 20)\n//       .attr('y1', arrowYStart)\n//       .attr('x2', elementX + 20)\n//       .attr('y2', arrowYEnd)\n//       .attr('stroke', 'black')\n//       .attr('marker-end', 'url(#arrowhead)');\n\n//     // Draw arrow context if it exists\n//     if (element.context) {\n//       group\n//         .append('text')\n//         .attr('x', elementX + 20)\n//         .attr('y', arrowYStart - 10) // Position it slightly above the arrow start\n//         .attr('fill', labelColor)\n//         .attr('font-size', labelFontSize)\n//         .attr('dominant-baseline', 'hanging') // Changed to hanging to avoid cut-off\n//         .attr('text-anchor', 'middle')\n//         .attr('class', 'arrowContext')\n//         .text(element.context);\n//     }\n//   }\n\n//   group\n//     .append('rect')\n//     .attr('x', elementX)\n//     .attr('y', elementY)\n//     .attr('width', 40)\n//     .attr('height', 40)\n//     .style('fill', fillColor)\n//     .attr('stroke', borderColor)\n//     .attr('stroke-width', borderWidth)\n//     .attr('class', 'arrayElement');\n\n//   group\n//     .append('text')\n//     .attr('x', elementX + 20)\n//     .attr('y', elementY + 20)\n//     .attr('fill', labelColor)\n//     .attr('font-size', labelFontSize)\n//     .attr('dominant-baseline', 'middle')\n//     .attr('text-anchor', 'middle')\n//     .attr('class', 'elementLabel')\n//     .text(element.value);\n\n//   if (showIndex) {\n//     group\n//       .append('text')\n//       .attr('x', elementX + 20)\n//       .attr('y', elementY + 60) // Position below the rectangle\n//       .attr('fill', labelColor)\n//       .attr('font-size', 25) // Slightly smaller font for the index\n//       .attr('dominant-baseline', 'middle')\n//       .attr('text-anchor', 'middle')\n//       .attr('class', 'indexLabel')\n//       .text(index);\n//   }\n// };\n\n// // Define arrowhead marker\n// const defineArrowhead = (svg: SVG) => {\n//   svg.append('defs')\n//     .append('marker')\n//     .attr('id', 'arrowhead')\n//     .attr('viewBox', '0 0 10 10')\n//     .attr('refX', '5')\n//     .attr('refY', '5')\n//     .attr('markerWidth', '6')\n//     .attr('markerHeight', '6')\n//     .attr('orient', 'auto-start-reverse')\n//     .append('path')\n//     .attr('d', 'M 0 0 L 10 5 L 0 10 z')\n//     .attr('fill', 'black');\n// };\n\n// export const renderer: DiagramRenderer = { draw };\n\nimport * as d3 from 'd3';\nimport type { Diagram } from '../../Diagram.js';\nimport type { ArrayDiagramConfig } from '../../config.type.js';\nimport type { DiagramRenderer, DrawDefinition, Group, SVG } from '../../diagram-api/types.js';\nimport { selectSvgElement } from '../../rendering-util/selectSvgElement.js';\nimport { configureSvgSize } from '../../setupGraphViewbox.js';\nimport type { TestSlidesDB, ArraySlide, ArrayElement } from './types.js';\n\nconst draw: DrawDefinition = (_text, id, _version, diagram: Diagram) => {\n  const db = diagram.db as TestSlidesDB;\n  const config = db.getConfig();\n  const slides = db.getSlides();\n  const title = db.getDiagramTitle();\n  const svgHeight = 500;\n  const svgWidth = 600;\n  const svg: SVG = selectSvgElement(id);\n\n  const currentPage = 0;\n  const playInterval: number | null = null;\n\n  const renderPage = (pageIndex: number) => {\n    svg.selectAll('g.page').attr('style', 'display: none');\n    svg.select(`#page${pageIndex}`).attr('style', 'display: inline');\n\n    // Update button states\n    svg.select('#prevButton').attr('fill', pageIndex > 0 ? '#007bff' : '#c0c0c0');\n    svg.select('#nextButton').attr('fill', pageIndex < slides.length - 1 ? '#007bff' : '#c0c0c0');\n\n    // Update current page display\n    svg.select('#pageIndicator').text(`${pageIndex + 1} / ${slides.length}`);\n  };\n\n  const addNavigationButtons = (svg: SVG, totalPages: number) => {\n    const buttonGroup = svg.append('g').attr('class', 'navigation-buttons');\n\n    // Prev button\n    const prevButtonGroup = buttonGroup\n      .append('g')\n      .attr('id', 'prevButtonGroup')\n      .attr('cursor', 'pointer');\n\n    prevButtonGroup\n      .append('rect')\n      .attr('id', 'prevButton')\n      .attr('x', svgWidth / 2 - 120)\n      .attr('y', svgHeight - 50)\n      .attr('width', 60)\n      .attr('height', 30)\n      .attr('fill', '#c0c0c0'); // Initially disabled\n\n    prevButtonGroup\n      .append('text')\n      .text('<')\n      .attr('x', svgWidth / 2 - 90)\n      .attr('y', svgHeight - 30)\n      .attr('fill', 'white')\n      .attr('text-anchor', 'middle')\n      .attr('alignment-baseline', 'middle');\n\n    // Next button\n    const nextButtonGroup = buttonGroup\n      .append('g')\n      .attr('id', 'nextButtonGroup')\n      .attr('cursor', 'pointer');\n\n    nextButtonGroup\n      .append('rect')\n      .attr('id', 'nextButton')\n      .attr('x', svgWidth / 2 + 60)\n      .attr('y', svgHeight - 50)\n      .attr('width', 60)\n      .attr('height', 30)\n      .attr('fill', '#007bff'); // Initially enabled\n\n    nextButtonGroup\n      .append('text')\n      .text('>')\n      .attr('x', svgWidth / 2 + 90)\n      .attr('y', svgHeight - 30)\n      .attr('fill', 'white')\n      .attr('text-anchor', 'middle')\n      .attr('alignment-baseline', 'middle');\n\n    // Play button\n    const playButtonGroup = buttonGroup\n      .append('g')\n      .attr('id', 'playButtonGroup')\n      .attr('cursor', 'pointer');\n\n    playButtonGroup\n      .append('rect')\n      .attr('id', 'playButton')\n      .attr('x', svgWidth / 2 - 30)\n      .attr('y', svgHeight - 50)\n      .attr('width', 60)\n      .attr('height', 30)\n      .attr('fill', '#007bff'); // Initially enabled\n\n    playButtonGroup\n      .append('text')\n      .text('\u25B6')\n      .attr('x', svgWidth / 2)\n      .attr('y', svgHeight - 30)\n      .attr('fill', 'white')\n      .attr('text-anchor', 'middle')\n      .attr('alignment-baseline', 'middle');\n\n    // Page indicator\n    buttonGroup\n      .append('text')\n      .attr('id', 'pageIndicator')\n      .attr('x', svgWidth - 50)\n      .attr('y', svgHeight - 30)\n      .attr('fill', 'black')\n      .attr('text-anchor', 'middle')\n      .attr('alignment-baseline', 'middle')\n      .text(`1 / ${totalPages}`);\n  };\n\n  const drawSlide = (svg: SVG, slide: ArraySlide, pageIndex: number) => {\n    const pageGroup = svg\n      .append('g')\n      .attr('id', `page${pageIndex}`)\n      .attr('class', 'page')\n      .attr('style', pageIndex === 0 ? 'display: inline' : 'display: none');\n\n    if (title) {\n      pageGroup\n        .append('text')\n        .text(title)\n        .attr('x', svgWidth / 2)\n        .attr('y', 25)\n        .attr('dominant-baseline', 'middle')\n        .attr('text-anchor', 'middle')\n        .attr('class', 'arrayTitle');\n    }\n\n    for (const [index, element] of slide.elements.entries()) {\n      drawElement(pageGroup as unknown as SVG, element, index, config, slide.showIndex);\n    }\n  };\n\n  svg.attr('viewBox', `0 0 ${svgWidth} ${svgHeight}`);\n  configureSvgSize(svg, svgHeight, svgWidth, config.useMaxWidth);\n\n  defineArrowhead(svg);\n\n  slides.forEach((slide, index) => {\n    drawSlide(svg, slide, index);\n  });\n\n  addNavigationButtons(svg, slides.length);\n\n  renderPage(currentPage);\n\n  // Inject page-switching logic directly into the SVG as JavaScript\n  const switchPageScript = `\n    const svg = document.getElementById('${id}');\n    let currentPage = 0;\n    const totalPages = ${slides.length};\n    let playInterval = null;\n\n    function renderPage(pageIndex) {\n      const pages = svg.querySelectorAll('g.page');\n      pages.forEach(page => {\n        page.style.display = 'none';\n      });\n      svg.querySelector('#page' + pageIndex).style.display = 'inline';\n\n      const prevButton = svg.querySelector('#prevButton');\n      const nextButton = svg.querySelector('#nextButton');\n      \n      if (prevButton) prevButton.setAttribute('fill', pageIndex > 0 ? '#007bff' : '#c0c0c0');\n      if (nextButton) nextButton.setAttribute('fill', pageIndex < totalPages - 1 ? '#007bff' : '#c0c0c0');\n\n      // Update current page display\n      svg.querySelector('#pageIndicator').textContent = (pageIndex + 1) + ' / ' + totalPages;\n    }\n\n    svg.querySelector('#prevButtonGroup').addEventListener('click', function() {\n      if (currentPage > 0) {\n        currentPage -= 1;\n        renderPage(currentPage);\n      }\n    });\n\n    svg.querySelector('#nextButtonGroup').addEventListener('click', function() {\n      if (currentPage < totalPages - 1) {\n        currentPage += 1;\n        renderPage(currentPage);\n      }\n    });\n\n    svg.querySelector('#playButtonGroup').addEventListener('click', function() {\n      if (playInterval) {\n        clearInterval(playInterval);\n        playInterval = null;\n        svg.querySelector('#playButton').setAttribute('fill', '#007bff');\n        svg.querySelector('#playButton text').textContent = '\u25B6';\n      } else {\n        playInterval = setInterval(() => {\n          if (currentPage < totalPages - 1) {\n            currentPage += 1;\n          } else {\n            currentPage = 0;\n          }\n          renderPage(currentPage);\n        }, 1000);\n        svg.querySelector('#playButton').setAttribute('fill', '#c0c0c0');\n        svg.querySelector('#playButton text').textContent = '\u275A\u275A';\n      }\n    });\n\n    renderPage(currentPage);\n  `;\n\n  // Append the script element to the SVG\n  svg.append('script').attr('type', 'text/ecmascript').text(switchPageScript);\n};\n\nconst getColor = (color?: string): string => {\n  switch (color) {\n    case 'blue':\n      return 'rgba(0, 0, 255, 0.3)'; // Semi-transparent blue\n    case 'green':\n      return 'rgba(0, 255, 0, 0.3)'; // Semi-transparent green\n    case 'red':\n      return 'rgba(255, 0, 0, 0.3)'; // Semi-transparent red\n    default:\n      return 'none';\n  }\n};\n\nconst drawElement = (\n  svg: SVG,\n  element: ArrayElement,\n  index: number,\n  {\n    elementColor,\n    borderColor,\n    borderWidth,\n    labelColor,\n    labelFontSize,\n  }: Required<ArrayDiagramConfig>,\n  showIndex: boolean\n) => {\n  const group: Group = svg.append('g');\n  const elementX = index * 50 + 50; // Adjust the x coordinate based on the index\n  const elementY = 100; // Increased the y coordinate to provide more space above\n\n  const fillColor = getColor(element.color);\n\n  if (element.arrow) {\n    // Draw arrow\n    const arrowYStart = elementY - 40; // Position the arrow head higher\n    const arrowYEnd = elementY - 10; // Position the end of the arrow at the top edge of the square\n    group\n      .append('line')\n      .attr('x1', elementX + 20)\n      .attr('y1', arrowYStart)\n      .attr('x2', elementX + 20)\n      .attr('y2', arrowYEnd)\n      .attr('stroke', 'black')\n      .attr('marker-end', 'url(#arrowhead)');\n\n    // Draw arrow context if it exists\n    if (element.context) {\n      group\n        .append('text')\n        .attr('x', elementX + 20)\n        .attr('y', arrowYStart - 10) // Position it slightly above the arrow start\n        .attr('fill', labelColor)\n        .attr('font-size', labelFontSize)\n        .attr('dominant-baseline', 'hanging') // Changed to hanging to avoid cut-off\n        .attr('text-anchor', 'middle')\n        .attr('class', 'arrowContext')\n        .text(element.context);\n    }\n  }\n\n  group\n    .append('rect')\n    .attr('x', elementX)\n    .attr('y', elementY)\n    .attr('width', 40)\n    .attr('height', 40)\n    .style('fill', fillColor)\n    .attr('stroke', borderColor)\n    .attr('stroke-width', borderWidth)\n    .attr('class', 'arrayElement');\n\n  group\n    .append('text')\n    .attr('x', elementX + 20)\n    .attr('y', elementY + 20)\n    .attr('fill', labelColor)\n    .attr('font-size', labelFontSize)\n    .attr('dominant-baseline', 'middle')\n    .attr('text-anchor', 'middle')\n    .attr('class', 'elementLabel')\n    .text(element.value);\n\n  if (showIndex) {\n    group\n      .append('text')\n      .attr('x', elementX + 20)\n      .attr('y', elementY + 60) // Position below the rectangle\n      .attr('fill', labelColor)\n      .attr('font-size', 25) // Slightly smaller font for the index\n      .attr('dominant-baseline', 'middle')\n      .attr('text-anchor', 'middle')\n      .attr('class', 'indexLabel')\n      .text(index);\n  }\n};\n\n// Define arrowhead marker\nconst defineArrowhead = (svg: SVG) => {\n  svg\n    .append('defs')\n    .append('marker')\n    .attr('id', 'arrowhead')\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', '5')\n    .attr('refY', '5')\n    .attr('markerWidth', '6')\n    .attr('markerHeight', '6')\n    .attr('orient', 'auto-start-reverse')\n    .append('path')\n    .attr('d', 'M 0 0 L 10 5 L 0 10 z')\n    .attr('fill', 'black');\n};\n\nexport const renderer: DiagramRenderer = { draw };\n", "import { log } from '../../logger.js';\n\nexport const styles = (options: any = {}) => {\n  log.debug({ options });\n  return `\n    .element {\n      font-size: ${options.array?.elementFontSize ?? '10px'};\n      fill: ${options.array?.valueColor ?? 'black'};\n    }\n    .element.index {\n      fill: ${options.array?.indexColor ?? 'black'};\n    }\n    .element {\n      stroke: ${options.array?.elementStrokeColor ?? 'black'};\n      stroke-width: ${options.array?.elementStrokeWidth ?? '1'};\n      fill: ${options.array?.elementFillColor ?? '#efefef'};\n    }\n  `;\n};\n\nexport default styles;\n", "import type { DiagramDefinition } from '../../diagram-api/types.js';\nimport { db } from './db.js';\nimport { parser } from './parser.js';\nimport { renderer } from './renderer.js';\nimport { styles } from './styles.js';\n\nexport const diagram: DiagramDefinition = {\n  parser,\n  db,\n  renderer,\n  styles,\n};\n"],
  "mappings": "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",
  "names": ["defaultTestSlidesData", "data", "DEFAULT_ARRAY_CONFIG", "defaultConfig_default", "getConfig", "__name", "cleanAndMerge", "getSlides", "addSlide", "slide", "clear", "db", "setAccTitle", "getAccTitle", "setDiagramTitle", "getDiagramTitle", "getAccDescription", "setAccDescription", "populate", "__name", "ast", "populateCommonDb", "db", "slide", "elements", "e", "parser", "input", "parse", "log", "draw", "__name", "_text", "id", "_version", "diagram", "db", "config", "slides", "title", "svgHeight", "svgWidth", "svg", "selectSvgElement", "currentPage", "playInterval", "renderPage", "pageIndex", "addNavigationButtons", "totalPages", "buttonGroup", "prevButtonGroup", "nextButtonGroup", "playButtonGroup", "drawSlide", "slide", "pageGroup", "index", "element", "drawElement", "configureSvgSize", "defineArrowhead", "switchPageScript", "getColor", "color", "elementColor", "borderColor", "borderWidth", "labelColor", "labelFontSize", "showIndex", "group", "elementX", "elementY", "fillColor", "arrowYStart", "arrowYEnd", "renderer", "styles", "__name", "options", "log", "diagram", "parser", "db", "renderer", "styles"]
}
