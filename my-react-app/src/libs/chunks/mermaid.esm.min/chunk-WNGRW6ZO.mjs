import{a as kt}from"./chunk-25QWRKWN.mjs";import{o as bt}from"./chunk-EYGBHCO6.mjs";import{b as yt}from"./chunk-PZJP3F4K.mjs";import{a as t,c as oe}from"./chunk-J73WXDYM.mjs";var le={};function $n(n,i){let e=i||le,r=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,u=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return wt(n,r,u)}t($n,"toString");function wt(n,i,e){if(se(n)){if("value"in n)return n.type==="html"&&!e?"":n.value;if(i&&"alt"in n&&n.alt)return n.alt;if("children"in n)return St(n.children,i,e)}return Array.isArray(n)?St(n,i,e):""}t(wt,"one");function St(n,i,e){let r=[],u=-1;for(;++u<n.length;)r[u]=wt(n[u],i,e);return r.join("")}t(St,"all");function se(n){return!!(n&&typeof n=="object")}t(se,"node");var Et=document.createElement("i");function Sn(n){let i="&"+n+";";Et.innerHTML=i;let e=Et.textContent;return e.charCodeAt(e.length-1)===59&&n!=="semi"||e===i?!1:e}t(Sn,"decodeNamedCharacterReference");function $(n,i,e,r){let u=n.length,a=0,o;if(i<0?i=-i>u?0:u+i:i=i>u?u:i,e=e>0?e:0,r.length<1e4)o=Array.from(r),o.unshift(i,e),n.splice(...o);else for(e&&n.splice(i,e);a<r.length;)o=r.slice(a,a+1e4),o.unshift(i,0),n.splice(...o),a+=1e4,i+=1e4}t($,"splice");function Z(n,i){return n.length>0?($(n,n.length,0,i),n):i}t(Z,"push");var Ct={}.hasOwnProperty;function zt(n){let i={},e=-1;for(;++e<n.length;)ce(i,n[e]);return i}t(zt,"combineExtensions");function ce(n,i){let e;for(e in i){let u=(Ct.call(n,e)?n[e]:void 0)||(n[e]={}),a=i[e],o;if(a)for(o in a){Ct.call(u,o)||(u[o]=[]);let l=a[o];pe(u[o],Array.isArray(l)?l:l?[l]:[])}}}t(ce,"syntaxExtension");function pe(n,i){let e=-1,r=[];for(;++e<i.length;)(i[e].add==="after"?n:r).push(i[e]);$(n,0,0,r)}t(pe,"constructs");function On(n,i){let e=Number.parseInt(n,i);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"\uFFFD":String.fromCodePoint(e)}t(On,"decodeNumericCharacterReference");function sn(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}t(sn,"normalizeIdentifier");var X=cn(/[A-Za-z]/),Y=cn(/[\dA-Za-z]/),It=cn(/[#-'*+\--9=?A-Z^-~]/);function Tn(n){return n!==null&&(n<32||n===127)}t(Tn,"asciiControl");var Ln=cn(/\d/),Tt=cn(/[\dA-Fa-f]/),Lt=cn(/[!-/:-@[-`{-~]/);function S(n){return n!==null&&n<-2}t(S,"markdownLineEnding");function N(n){return n!==null&&(n<0||n===32)}t(N,"markdownLineEndingOrSpace");function C(n){return n===-2||n===-1||n===32}t(C,"markdownSpace");var Ft=cn(/\p{P}|\p{S}/u),At=cn(/\s/);function cn(n){return i;function i(e){return e!==null&&e>-1&&n.test(String.fromCharCode(e))}}t(cn,"regexCheck");function I(n,i,e,r){let u=r?r-1:Number.POSITIVE_INFINITY,a=0;return o;function o(f){return C(f)?(n.enter(e),l(f)):i(f)}function l(f){return C(f)&&a++<u?(n.consume(f),l):(n.exit(e),i(f))}}t(I,"factorySpace");var Mt={tokenize:me};function me(n){let i=n.attempt(this.parser.constructs.contentInitial,r,u),e;return i;function r(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),I(n,i,"linePrefix")}function u(l){return n.enter("paragraph"),a(l)}function a(l){let f=n.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=f),e=f,o(l)}function o(l){if(l===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(l);return}return S(l)?(n.consume(l),n.exit("chunkText"),a):(n.consume(l),o)}}t(me,"initializeContent");var Ot={tokenize:he},Bt={tokenize:fe};function he(n){let i=this,e=[],r=0,u,a,o;return l;function l(w){if(r<e.length){let R=e[r];return i.containerState=R[1],n.attempt(R[0].continuation,f,h)(w)}return h(w)}function f(w){if(r++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,u&&H();let R=i.events.length,W=R,k;for(;W--;)if(i.events[W][0]==="exit"&&i.events[W][1].type==="chunkFlow"){k=i.events[W][1].end;break}b(r);let _=R;for(;_<i.events.length;)i.events[_][1].end=Object.assign({},k),_++;return $(i.events,W+1,0,i.events.slice(R)),i.events.length=_,h(w)}return l(w)}function h(w){if(r===e.length){if(!u)return x(w);if(u.currentConstruct&&u.currentConstruct.concrete)return A(w);i.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return i.containerState={},n.check(Bt,m,g)(w)}function m(w){return u&&H(),b(r),x(w)}function g(w){return i.parser.lazy[i.now().line]=r!==e.length,o=i.now().offset,A(w)}function x(w){return i.containerState={},n.attempt(Bt,p,A)(w)}function p(w){return r++,e.push([i.currentConstruct,i.containerState]),x(w)}function A(w){if(w===null){u&&H(),b(0),n.consume(w);return}return u=u||i.parser.flow(i.now()),n.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:u}),M(w)}function M(w){if(w===null){D(n.exit("chunkFlow"),!0),b(0),n.consume(w);return}return S(w)?(n.consume(w),D(n.exit("chunkFlow")),r=0,i.interrupt=void 0,l):(n.consume(w),M)}function D(w,R){let W=i.sliceStream(w);if(R&&W.push(null),w.previous=a,a&&(a.next=w),a=w,u.defineSkip(w.start),u.write(W),i.parser.lazy[w.start.line]){let k=u.events.length;for(;k--;)if(u.events[k][1].start.offset<o&&(!u.events[k][1].end||u.events[k][1].end.offset>o))return;let _=i.events.length,V=_,B,j;for(;V--;)if(i.events[V][0]==="exit"&&i.events[V][1].type==="chunkFlow"){if(B){j=i.events[V][1].end;break}B=!0}for(b(r),k=_;k<i.events.length;)i.events[k][1].end=Object.assign({},j),k++;$(i.events,V+1,0,i.events.slice(_)),i.events.length=k}}function b(w){let R=e.length;for(;R-- >w;){let W=e[R];i.containerState=W[1],W[0].exit.call(i,n)}e.length=w}function H(){u.write([null]),a=void 0,u=void 0,i.containerState._closeFlow=void 0}}t(he,"initializeDocument");function fe(n,i,e){return I(n,n.attempt(this.parser.constructs.document,i,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}t(fe,"tokenizeContainer");function Gn(n){if(n===null||N(n)||At(n))return 1;if(Ft(n))return 2}t(Gn,"classifyCharacter");function wn(n,i,e){let r=[],u=-1;for(;++u<n.length;){let a=n[u].resolveAll;a&&!r.includes(a)&&(i=a(i,e),r.push(a))}return i}t(wn,"resolveAll");var Fn={name:"attention",tokenize:ge,resolveAll:xe};function xe(n,i){let e=-1,r,u,a,o,l,f,h,m;for(;++e<n.length;)if(n[e][0]==="enter"&&n[e][1].type==="attentionSequence"&&n[e][1]._close){for(r=e;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&i.sliceSerialize(n[r][1]).charCodeAt(0)===i.sliceSerialize(n[e][1]).charCodeAt(0)){if((n[r][1]._close||n[e][1]._open)&&(n[e][1].end.offset-n[e][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[e][1].end.offset-n[e][1].start.offset)%3))continue;f=n[r][1].end.offset-n[r][1].start.offset>1&&n[e][1].end.offset-n[e][1].start.offset>1?2:1;let g=Object.assign({},n[r][1].end),x=Object.assign({},n[e][1].start);Pt(g,-f),Pt(x,f),o={type:f>1?"strongSequence":"emphasisSequence",start:g,end:Object.assign({},n[r][1].end)},l={type:f>1?"strongSequence":"emphasisSequence",start:Object.assign({},n[e][1].start),end:x},a={type:f>1?"strongText":"emphasisText",start:Object.assign({},n[r][1].end),end:Object.assign({},n[e][1].start)},u={type:f>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},l.end)},n[r][1].end=Object.assign({},o.start),n[e][1].start=Object.assign({},l.end),h=[],n[r][1].end.offset-n[r][1].start.offset&&(h=Z(h,[["enter",n[r][1],i],["exit",n[r][1],i]])),h=Z(h,[["enter",u,i],["enter",o,i],["exit",o,i],["enter",a,i]]),h=Z(h,wn(i.parser.constructs.insideSpan.null,n.slice(r+1,e),i)),h=Z(h,[["exit",a,i],["enter",l,i],["exit",l,i],["exit",u,i]]),n[e][1].end.offset-n[e][1].start.offset?(m=2,h=Z(h,[["enter",n[e][1],i],["exit",n[e][1],i]])):m=0,$(n,r-1,e-r+3,h),e=r+h.length-m-2;break}}for(e=-1;++e<n.length;)n[e][1].type==="attentionSequence"&&(n[e][1].type="data");return n}t(xe,"resolveAllAttention");function ge(n,i){let e=this.parser.constructs.attentionMarkers.null,r=this.previous,u=Gn(r),a;return o;function o(f){return a=f,n.enter("attentionSequence"),l(f)}function l(f){if(f===a)return n.consume(f),l;let h=n.exit("attentionSequence"),m=Gn(f),g=!m||m===2&&u||e.includes(f),x=!u||u===2&&m||e.includes(r);return h._open=!!(a===42?g:g&&(u||!x)),h._close=!!(a===42?x:x&&(m||!g)),i(f)}}t(ge,"tokenizeAttention");function Pt(n,i){n.column+=i,n.offset+=i,n._bufferIndex+=i}t(Pt,"movePoint");var Zn={name:"autolink",tokenize:de};function de(n,i,e){let r=0;return u;function u(p){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),a}function a(p){return X(p)?(n.consume(p),o):h(p)}function o(p){return p===43||p===45||p===46||Y(p)?(r=1,l(p)):h(p)}function l(p){return p===58?(n.consume(p),r=0,f):(p===43||p===45||p===46||Y(p))&&r++<32?(n.consume(p),l):(r=0,h(p))}function f(p){return p===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),i):p===null||p===32||p===60||Tn(p)?e(p):(n.consume(p),f)}function h(p){return p===64?(n.consume(p),m):It(p)?(n.consume(p),h):e(p)}function m(p){return Y(p)?g(p):e(p)}function g(p){return p===46?(n.consume(p),r=0,m):p===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),i):x(p)}function x(p){if((p===45||Y(p))&&r++<63){let A=p===45?x:g;return n.consume(p),A}return e(p)}}t(de,"tokenizeAutolink");var pn={tokenize:ke,partial:!0};function ke(n,i,e){return r;function r(a){return C(a)?I(n,u,"linePrefix")(a):u(a)}function u(a){return a===null||S(a)?i(a):e(a)}}t(ke,"tokenizeBlankLine");var Pn={name:"blockQuote",tokenize:ye,continuation:{tokenize:be},exit:Se};function ye(n,i,e){let r=this;return u;function u(o){if(o===62){let l=r.containerState;return l.open||(n.enter("blockQuote",{_container:!0}),l.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),a}return e(o)}function a(o){return C(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),i):(n.exit("blockQuotePrefix"),i(o))}}t(ye,"tokenizeBlockQuoteStart");function be(n,i,e){let r=this;return u;function u(o){return C(o)?I(n,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return n.attempt(Pn,i,e)(o)}}t(be,"tokenizeBlockQuoteContinuation");function Se(n){n.exit("blockQuote")}t(Se,"exit");var _n={name:"characterEscape",tokenize:we};function we(n,i,e){return r;function r(a){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(a),n.exit("escapeMarker"),u}function u(a){return Lt(a)?(n.enter("characterEscapeValue"),n.consume(a),n.exit("characterEscapeValue"),n.exit("characterEscape"),i):e(a)}}t(we,"tokenizeCharacterEscape");var Dn={name:"characterReference",tokenize:Ee};function Ee(n,i,e){let r=this,u=0,a,o;return l;function l(g){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),f}function f(g){return g===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(g),n.exit("characterReferenceMarkerNumeric"),h):(n.enter("characterReferenceValue"),a=31,o=Y,m(g))}function h(g){return g===88||g===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(g),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),a=6,o=Tt,m):(n.enter("characterReferenceValue"),a=7,o=Ln,m(g))}function m(g){if(g===59&&u){let x=n.exit("characterReferenceValue");return o===Y&&!Sn(r.sliceSerialize(x))?e(g):(n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),n.exit("characterReference"),i)}return o(g)&&u++<a?(n.consume(g),m):e(g)}}t(Ee,"tokenizeCharacterReference");var _t={tokenize:ze,partial:!0},Rn={name:"codeFenced",tokenize:Ce,concrete:!0};function Ce(n,i,e){let r=this,u={tokenize:W,partial:!0},a=0,o=0,l;return f;function f(k){return h(k)}function h(k){let _=r.events[r.events.length-1];return a=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,l=k,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),m(k)}function m(k){return k===l?(o++,n.consume(k),m):o<3?e(k):(n.exit("codeFencedFenceSequence"),C(k)?I(n,g,"whitespace")(k):g(k))}function g(k){return k===null||S(k)?(n.exit("codeFencedFence"),r.interrupt?i(k):n.check(_t,M,R)(k)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),x(k))}function x(k){return k===null||S(k)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),g(k)):C(k)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),I(n,p,"whitespace")(k)):k===96&&k===l?e(k):(n.consume(k),x)}function p(k){return k===null||S(k)?g(k):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),A(k))}function A(k){return k===null||S(k)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),g(k)):k===96&&k===l?e(k):(n.consume(k),A)}function M(k){return n.attempt(u,R,D)(k)}function D(k){return n.enter("lineEnding"),n.consume(k),n.exit("lineEnding"),b}function b(k){return a>0&&C(k)?I(n,H,"linePrefix",a+1)(k):H(k)}function H(k){return k===null||S(k)?n.check(_t,M,R)(k):(n.enter("codeFlowValue"),w(k))}function w(k){return k===null||S(k)?(n.exit("codeFlowValue"),H(k)):(n.consume(k),w)}function R(k){return n.exit("codeFenced"),i(k)}function W(k,_,V){let B=0;return j;function j(T){return k.enter("lineEnding"),k.consume(T),k.exit("lineEnding"),v}function v(T){return k.enter("codeFencedFence"),C(T)?I(k,P,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):P(T)}function P(T){return T===l?(k.enter("codeFencedFenceSequence"),E(T)):V(T)}function E(T){return T===l?(B++,k.consume(T),E):B>=o?(k.exit("codeFencedFenceSequence"),C(T)?I(k,L,"whitespace")(T):L(T)):V(T)}function L(T){return T===null||S(T)?(k.exit("codeFencedFence"),_(T)):V(T)}}}t(Ce,"tokenizeCodeFenced");function ze(n,i,e){let r=this;return u;function u(o){return o===null?e(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?e(o):i(o)}}t(ze,"tokenizeNonLazyContinuation");var An={name:"codeIndented",tokenize:Te},Ie={tokenize:Le,partial:!0};function Te(n,i,e){let r=this;return u;function u(h){return n.enter("codeIndented"),I(n,a,"linePrefix",5)(h)}function a(h){let m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?o(h):e(h)}function o(h){return h===null?f(h):S(h)?n.attempt(Ie,o,f)(h):(n.enter("codeFlowValue"),l(h))}function l(h){return h===null||S(h)?(n.exit("codeFlowValue"),o(h)):(n.consume(h),l)}function f(h){return n.exit("codeIndented"),i(h)}}t(Te,"tokenizeCodeIndented");function Le(n,i,e){let r=this;return u;function u(o){return r.parser.lazy[r.now().line]?e(o):S(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),u):I(n,a,"linePrefix",5)(o)}function a(o){let l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?i(o):S(o)?u(o):e(o)}}t(Le,"tokenizeFurtherStart");var Yn={name:"codeText",tokenize:Me,resolve:Fe,previous:Ae};function Fe(n){let i=n.length-4,e=3,r,u;if((n[e][1].type==="lineEnding"||n[e][1].type==="space")&&(n[i][1].type==="lineEnding"||n[i][1].type==="space")){for(r=e;++r<i;)if(n[r][1].type==="codeTextData"){n[e][1].type="codeTextPadding",n[i][1].type="codeTextPadding",e+=2,i-=2;break}}for(r=e-1,i++;++r<=i;)u===void 0?r!==i&&n[r][1].type!=="lineEnding"&&(u=r):(r===i||n[r][1].type==="lineEnding")&&(n[u][1].type="codeTextData",r!==u+2&&(n[u][1].end=n[r-1][1].end,n.splice(u+2,r-u-2),i-=r-u-2,r=u+2),u=void 0);return n}t(Fe,"resolveCodeText");function Ae(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}t(Ae,"previous");function Me(n,i,e){let r=this,u=0,a,o;return l;function l(x){return n.enter("codeText"),n.enter("codeTextSequence"),f(x)}function f(x){return x===96?(n.consume(x),u++,f):(n.exit("codeTextSequence"),h(x))}function h(x){return x===null?e(x):x===32?(n.enter("space"),n.consume(x),n.exit("space"),h):x===96?(o=n.enter("codeTextSequence"),a=0,g(x)):S(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),h):(n.enter("codeTextData"),m(x))}function m(x){return x===null||x===32||x===96||S(x)?(n.exit("codeTextData"),h(x)):(n.consume(x),m)}function g(x){return x===96?(n.consume(x),a++,g):a===u?(n.exit("codeTextSequence"),n.exit("codeText"),i(x)):(o.type="codeTextData",m(x))}}t(Me,"tokenizeCodeText");function jn(n){let i={},e=-1,r,u,a,o,l,f,h;for(;++e<n.length;){for(;e in i;)e=i[e];if(r=n[e],e&&r[1].type==="chunkFlow"&&n[e-1][1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(i,Be(n,e)),e=i[e],h=!0);else if(r[1]._container){for(a=e,u=void 0;a--&&(o=n[a],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(u&&(n[u][1].type="lineEndingBlank"),o[1].type="lineEnding",u=a);u&&(r[1].end=Object.assign({},n[u][1].start),l=n.slice(u,e),l.unshift(r),$(n,u,e-u+1,l))}}return!h}t(jn,"subtokenize");function Be(n,i){let e=n[i][1],r=n[i][2],u=i-1,a=[],o=e._tokenizer||r.parser[e.contentType](e.start),l=o.events,f=[],h={},m,g,x=-1,p=e,A=0,M=0,D=[M];for(;p;){for(;n[++u][1]!==p;);a.push(u),p._tokenizer||(m=r.sliceStream(p),p.next||m.push(null),g&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(m),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),g=p,p=p.next}for(p=e;++x<l.length;)l[x][0]==="exit"&&l[x-1][0]==="enter"&&l[x][1].type===l[x-1][1].type&&l[x][1].start.line!==l[x][1].end.line&&(M=x+1,D.push(M),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):D.pop(),x=D.length;x--;){let b=l.slice(D[x],D[x+1]),H=a.pop();f.unshift([H,H+b.length-1]),$(n,H,2,b)}for(x=-1;++x<f.length;)h[A+f[x][0]]=A+f[x][1],A+=f[x][1]-f[x][0]-1;return h}t(Be,"subcontent");var Jn={tokenize:_e,resolve:Pe},Oe={tokenize:De,partial:!0};function Pe(n){return jn(n),n}t(Pe,"resolveContent");function _e(n,i){let e;return r;function r(l){return n.enter("content"),e=n.enter("chunkContent",{contentType:"content"}),u(l)}function u(l){return l===null?a(l):S(l)?n.check(Oe,o,a)(l):(n.consume(l),u)}function a(l){return n.exit("chunkContent"),n.exit("content"),i(l)}function o(l){return n.consume(l),n.exit("chunkContent"),e.next=n.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,u}}t(_e,"tokenizeContent");function De(n,i,e){let r=this;return u;function u(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),I(n,a,"linePrefix")}function a(o){if(o===null||S(o))return e(o);let l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?i(o):n.interrupt(r.parser.constructs.flow,e,i)(o)}}t(De,"tokenizeContinuation");function Wn(n,i,e,r,u,a,o,l,f){let h=f||Number.POSITIVE_INFINITY,m=0;return g;function g(b){return b===60?(n.enter(r),n.enter(u),n.enter(a),n.consume(b),n.exit(a),x):b===null||b===32||b===41||Tn(b)?e(b):(n.enter(r),n.enter(o),n.enter(l),n.enter("chunkString",{contentType:"string"}),M(b))}function x(b){return b===62?(n.enter(a),n.consume(b),n.exit(a),n.exit(u),n.exit(r),i):(n.enter(l),n.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===62?(n.exit("chunkString"),n.exit(l),x(b)):b===null||b===60||S(b)?e(b):(n.consume(b),b===92?A:p)}function A(b){return b===60||b===62||b===92?(n.consume(b),p):p(b)}function M(b){return!m&&(b===null||b===41||N(b))?(n.exit("chunkString"),n.exit(l),n.exit(o),n.exit(r),i(b)):m<h&&b===40?(n.consume(b),m++,M):b===41?(n.consume(b),m--,M):b===null||b===32||b===40||Tn(b)?e(b):(n.consume(b),b===92?D:M)}function D(b){return b===40||b===41||b===92?(n.consume(b),M):M(b)}}t(Wn,"factoryDestination");function Hn(n,i,e,r,u,a){let o=this,l=0,f;return h;function h(p){return n.enter(r),n.enter(u),n.consume(p),n.exit(u),n.enter(a),m}function m(p){return l>999||p===null||p===91||p===93&&!f||p===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?e(p):p===93?(n.exit(a),n.enter(u),n.consume(p),n.exit(u),n.exit(r),i):S(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),m):(n.enter("chunkString",{contentType:"string"}),g(p))}function g(p){return p===null||p===91||p===93||S(p)||l++>999?(n.exit("chunkString"),m(p)):(n.consume(p),f||(f=!C(p)),p===92?x:g)}function x(p){return p===91||p===92||p===93?(n.consume(p),l++,g):g(p)}}t(Hn,"factoryLabel");function qn(n,i,e,r,u,a){let o;return l;function l(x){return x===34||x===39||x===40?(n.enter(r),n.enter(u),n.consume(x),n.exit(u),o=x===40?41:x,f):e(x)}function f(x){return x===o?(n.enter(u),n.consume(x),n.exit(u),n.exit(r),i):(n.enter(a),h(x))}function h(x){return x===o?(n.exit(a),f(o)):x===null?e(x):S(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),I(n,h,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===o||x===null||S(x)?(n.exit("chunkString"),h(x)):(n.consume(x),x===92?g:m)}function g(x){return x===o||x===92?(n.consume(x),m):m(x)}}t(qn,"factoryTitle");function xn(n,i){let e;return r;function r(u){return S(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),e=!0,r):C(u)?I(n,r,e?"linePrefix":"lineSuffix")(u):i(u)}}t(xn,"factoryWhitespace");var Kn={name:"definition",tokenize:je},Re={tokenize:We,partial:!0};function je(n,i,e){let r=this,u;return a;function a(p){return n.enter("definition"),o(p)}function o(p){return Hn.call(r,n,l,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return u=sn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(n.enter("definitionMarker"),n.consume(p),n.exit("definitionMarker"),f):e(p)}function f(p){return N(p)?xn(n,h)(p):h(p)}function h(p){return Wn(n,m,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function m(p){return n.attempt(Re,g,g)(p)}function g(p){return C(p)?I(n,x,"whitespace")(p):x(p)}function x(p){return p===null||S(p)?(n.exit("definition"),r.parser.defined.push(u),i(p)):e(p)}}t(je,"tokenizeDefinition");function We(n,i,e){return r;function r(l){return N(l)?xn(n,u)(l):e(l)}function u(l){return qn(n,a,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return C(l)?I(n,o,"whitespace")(l):o(l)}function o(l){return l===null||S(l)?i(l):e(l)}}t(We,"tokenizeTitleBefore");var Xn={name:"hardBreakEscape",tokenize:He};function He(n,i,e){return r;function r(a){return n.enter("hardBreakEscape"),n.consume(a),u}function u(a){return S(a)?(n.exit("hardBreakEscape"),i(a)):e(a)}}t(He,"tokenizeHardBreakEscape");var vn={name:"headingAtx",tokenize:Ne,resolve:qe};function qe(n,i){let e=n.length-2,r=3,u,a;return n[r][1].type==="whitespace"&&(r+=2),e-2>r&&n[e][1].type==="whitespace"&&(e-=2),n[e][1].type==="atxHeadingSequence"&&(r===e-1||e-4>r&&n[e-2][1].type==="whitespace")&&(e-=r+1===e?2:4),e>r&&(u={type:"atxHeadingText",start:n[r][1].start,end:n[e][1].end},a={type:"chunkText",start:n[r][1].start,end:n[e][1].end,contentType:"text"},$(n,r,e-r+1,[["enter",u,i],["enter",a,i],["exit",a,i],["exit",u,i]])),n}t(qe,"resolveHeadingAtx");function Ne(n,i,e){let r=0;return u;function u(m){return n.enter("atxHeading"),a(m)}function a(m){return n.enter("atxHeadingSequence"),o(m)}function o(m){return m===35&&r++<6?(n.consume(m),o):m===null||N(m)?(n.exit("atxHeadingSequence"),l(m)):e(m)}function l(m){return m===35?(n.enter("atxHeadingSequence"),f(m)):m===null||S(m)?(n.exit("atxHeading"),i(m)):C(m)?I(n,l,"whitespace")(m):(n.enter("atxHeadingText"),h(m))}function f(m){return m===35?(n.consume(m),f):(n.exit("atxHeadingSequence"),l(m))}function h(m){return m===null||m===35||N(m)?(n.exit("atxHeadingText"),l(m)):(n.consume(m),h)}}t(Ne,"tokenizeHeadingAtx");var Dt=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nt=["pre","script","style","textarea"];var tt={name:"htmlFlow",tokenize:$e,resolveTo:Ue,concrete:!0},Ve={tokenize:Ze,partial:!0},Qe={tokenize:Ge,partial:!0};function Ue(n){let i=n.length;for(;i--&&!(n[i][0]==="enter"&&n[i][1].type==="htmlFlow"););return i>1&&n[i-2][1].type==="linePrefix"&&(n[i][1].start=n[i-2][1].start,n[i+1][1].start=n[i-2][1].start,n.splice(i-2,2)),n}t(Ue,"resolveToHtmlFlow");function $e(n,i,e){let r=this,u,a,o,l,f;return h;function h(c){return m(c)}function m(c){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(c),g}function g(c){return c===33?(n.consume(c),x):c===47?(n.consume(c),a=!0,M):c===63?(n.consume(c),u=3,r.interrupt?i:s):X(c)?(n.consume(c),o=String.fromCharCode(c),D):e(c)}function x(c){return c===45?(n.consume(c),u=2,p):c===91?(n.consume(c),u=5,l=0,A):X(c)?(n.consume(c),u=4,r.interrupt?i:s):e(c)}function p(c){return c===45?(n.consume(c),r.interrupt?i:s):e(c)}function A(c){let J="CDATA[";return c===J.charCodeAt(l++)?(n.consume(c),l===J.length?r.interrupt?i:P:A):e(c)}function M(c){return X(c)?(n.consume(c),o=String.fromCharCode(c),D):e(c)}function D(c){if(c===null||c===47||c===62||N(c)){let J=c===47,hn=o.toLowerCase();return!J&&!a&&nt.includes(hn)?(u=1,r.interrupt?i(c):P(c)):Dt.includes(o.toLowerCase())?(u=6,J?(n.consume(c),b):r.interrupt?i(c):P(c)):(u=7,r.interrupt&&!r.parser.lazy[r.now().line]?e(c):a?H(c):w(c))}return c===45||Y(c)?(n.consume(c),o+=String.fromCharCode(c),D):e(c)}function b(c){return c===62?(n.consume(c),r.interrupt?i:P):e(c)}function H(c){return C(c)?(n.consume(c),H):j(c)}function w(c){return c===47?(n.consume(c),j):c===58||c===95||X(c)?(n.consume(c),R):C(c)?(n.consume(c),w):j(c)}function R(c){return c===45||c===46||c===58||c===95||Y(c)?(n.consume(c),R):W(c)}function W(c){return c===61?(n.consume(c),k):C(c)?(n.consume(c),W):w(c)}function k(c){return c===null||c===60||c===61||c===62||c===96?e(c):c===34||c===39?(n.consume(c),f=c,_):C(c)?(n.consume(c),k):V(c)}function _(c){return c===f?(n.consume(c),f=null,B):c===null||S(c)?e(c):(n.consume(c),_)}function V(c){return c===null||c===34||c===39||c===47||c===60||c===61||c===62||c===96||N(c)?W(c):(n.consume(c),V)}function B(c){return c===47||c===62||C(c)?w(c):e(c)}function j(c){return c===62?(n.consume(c),v):e(c)}function v(c){return c===null||S(c)?P(c):C(c)?(n.consume(c),v):e(c)}function P(c){return c===45&&u===2?(n.consume(c),q):c===60&&u===1?(n.consume(c),Q):c===62&&u===4?(n.consume(c),nn):c===63&&u===3?(n.consume(c),s):c===93&&u===5?(n.consume(c),rn):S(c)&&(u===6||u===7)?(n.exit("htmlFlowData"),n.check(Ve,an,E)(c)):c===null||S(c)?(n.exit("htmlFlowData"),E(c)):(n.consume(c),P)}function E(c){return n.check(Qe,L,an)(c)}function L(c){return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),T}function T(c){return c===null||S(c)?E(c):(n.enter("htmlFlowData"),P(c))}function q(c){return c===45?(n.consume(c),s):P(c)}function Q(c){return c===47?(n.consume(c),o="",tn):P(c)}function tn(c){if(c===62){let J=o.toLowerCase();return nt.includes(J)?(n.consume(c),nn):P(c)}return X(c)&&o.length<8?(n.consume(c),o+=String.fromCharCode(c),tn):P(c)}function rn(c){return c===93?(n.consume(c),s):P(c)}function s(c){return c===62?(n.consume(c),nn):c===45&&u===2?(n.consume(c),s):P(c)}function nn(c){return c===null||S(c)?(n.exit("htmlFlowData"),an(c)):(n.consume(c),nn)}function an(c){return n.exit("htmlFlow"),i(c)}}t($e,"tokenizeHtmlFlow");function Ge(n,i,e){let r=this;return u;function u(o){return S(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),a):e(o)}function a(o){return r.parser.lazy[r.now().line]?e(o):i(o)}}t(Ge,"tokenizeNonLazyContinuationStart");function Ze(n,i,e){return r;function r(u){return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),n.attempt(pn,i,e)}}t(Ze,"tokenizeBlankLineBefore");var et={name:"htmlText",tokenize:Ye};function Ye(n,i,e){let r=this,u,a,o;return l;function l(s){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(s),f}function f(s){return s===33?(n.consume(s),h):s===47?(n.consume(s),W):s===63?(n.consume(s),w):X(s)?(n.consume(s),V):e(s)}function h(s){return s===45?(n.consume(s),m):s===91?(n.consume(s),a=0,A):X(s)?(n.consume(s),H):e(s)}function m(s){return s===45?(n.consume(s),p):e(s)}function g(s){return s===null?e(s):s===45?(n.consume(s),x):S(s)?(o=g,Q(s)):(n.consume(s),g)}function x(s){return s===45?(n.consume(s),p):g(s)}function p(s){return s===62?q(s):s===45?x(s):g(s)}function A(s){let nn="CDATA[";return s===nn.charCodeAt(a++)?(n.consume(s),a===nn.length?M:A):e(s)}function M(s){return s===null?e(s):s===93?(n.consume(s),D):S(s)?(o=M,Q(s)):(n.consume(s),M)}function D(s){return s===93?(n.consume(s),b):M(s)}function b(s){return s===62?q(s):s===93?(n.consume(s),b):M(s)}function H(s){return s===null||s===62?q(s):S(s)?(o=H,Q(s)):(n.consume(s),H)}function w(s){return s===null?e(s):s===63?(n.consume(s),R):S(s)?(o=w,Q(s)):(n.consume(s),w)}function R(s){return s===62?q(s):w(s)}function W(s){return X(s)?(n.consume(s),k):e(s)}function k(s){return s===45||Y(s)?(n.consume(s),k):_(s)}function _(s){return S(s)?(o=_,Q(s)):C(s)?(n.consume(s),_):q(s)}function V(s){return s===45||Y(s)?(n.consume(s),V):s===47||s===62||N(s)?B(s):e(s)}function B(s){return s===47?(n.consume(s),q):s===58||s===95||X(s)?(n.consume(s),j):S(s)?(o=B,Q(s)):C(s)?(n.consume(s),B):q(s)}function j(s){return s===45||s===46||s===58||s===95||Y(s)?(n.consume(s),j):v(s)}function v(s){return s===61?(n.consume(s),P):S(s)?(o=v,Q(s)):C(s)?(n.consume(s),v):B(s)}function P(s){return s===null||s===60||s===61||s===62||s===96?e(s):s===34||s===39?(n.consume(s),u=s,E):S(s)?(o=P,Q(s)):C(s)?(n.consume(s),P):(n.consume(s),L)}function E(s){return s===u?(n.consume(s),u=void 0,T):s===null?e(s):S(s)?(o=E,Q(s)):(n.consume(s),E)}function L(s){return s===null||s===34||s===39||s===60||s===61||s===96?e(s):s===47||s===62||N(s)?B(s):(n.consume(s),L)}function T(s){return s===47||s===62||N(s)?B(s):e(s)}function q(s){return s===62?(n.consume(s),n.exit("htmlTextData"),n.exit("htmlText"),i):e(s)}function Q(s){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),tn}function tn(s){return C(s)?I(n,rn,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):rn(s)}function rn(s){return n.enter("htmlTextData"),o(s)}}t(Ye,"tokenizeHtmlText");var gn={name:"labelEnd",tokenize:tr,resolveTo:nr,resolveAll:ve},Je={tokenize:er},Ke={tokenize:rr},Xe={tokenize:ir};function ve(n){let i=-1;for(;++i<n.length;){let e=n[i][1];(e.type==="labelImage"||e.type==="labelLink"||e.type==="labelEnd")&&(n.splice(i+1,e.type==="labelImage"?4:2),e.type="data",i++)}return n}t(ve,"resolveAllLabelEnd");function nr(n,i){let e=n.length,r=0,u,a,o,l;for(;e--;)if(u=n[e][1],a){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;n[e][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(o){if(n[e][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(a=e,u.type!=="labelLink")){r=2;break}}else u.type==="labelEnd"&&(o=e);let f={type:n[a][1].type==="labelLink"?"link":"image",start:Object.assign({},n[a][1].start),end:Object.assign({},n[n.length-1][1].end)},h={type:"label",start:Object.assign({},n[a][1].start),end:Object.assign({},n[o][1].end)},m={type:"labelText",start:Object.assign({},n[a+r+2][1].end),end:Object.assign({},n[o-2][1].start)};return l=[["enter",f,i],["enter",h,i]],l=Z(l,n.slice(a+1,a+r+3)),l=Z(l,[["enter",m,i]]),l=Z(l,wn(i.parser.constructs.insideSpan.null,n.slice(a+r+4,o-3),i)),l=Z(l,[["exit",m,i],n[o-2],n[o-1],["exit",h,i]]),l=Z(l,n.slice(o+1)),l=Z(l,[["exit",f,i]]),$(n,a,n.length,l),n}t(nr,"resolveToLabelEnd");function tr(n,i,e){let r=this,u=r.events.length,a,o;for(;u--;)if((r.events[u][1].type==="labelImage"||r.events[u][1].type==="labelLink")&&!r.events[u][1]._balanced){a=r.events[u][1];break}return l;function l(x){return a?a._inactive?g(x):(o=r.parser.defined.includes(sn(r.sliceSerialize({start:a.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(x),n.exit("labelMarker"),n.exit("labelEnd"),f):e(x)}function f(x){return x===40?n.attempt(Je,m,o?m:g)(x):x===91?n.attempt(Ke,m,o?h:g)(x):o?m(x):g(x)}function h(x){return n.attempt(Xe,m,g)(x)}function m(x){return i(x)}function g(x){return a._balanced=!0,e(x)}}t(tr,"tokenizeLabelEnd");function er(n,i,e){return r;function r(g){return n.enter("resource"),n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),u}function u(g){return N(g)?xn(n,a)(g):a(g)}function a(g){return g===41?m(g):Wn(n,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function o(g){return N(g)?xn(n,f)(g):m(g)}function l(g){return e(g)}function f(g){return g===34||g===39||g===40?qn(n,h,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function h(g){return N(g)?xn(n,m)(g):m(g)}function m(g){return g===41?(n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),n.exit("resource"),i):e(g)}}t(er,"tokenizeResource");function rr(n,i,e){let r=this;return u;function u(l){return Hn.call(r,n,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(sn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?i(l):e(l)}function o(l){return e(l)}}t(rr,"tokenizeReferenceFull");function ir(n,i,e){return r;function r(a){return n.enter("reference"),n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),u}function u(a){return a===93?(n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),n.exit("reference"),i):e(a)}}t(ir,"tokenizeReferenceCollapsed");var rt={name:"labelStartImage",tokenize:ur,resolveAll:gn.resolveAll};function ur(n,i,e){let r=this;return u;function u(l){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(l),n.exit("labelImageMarker"),a}function a(l){return l===91?(n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelImage"),o):e(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?e(l):i(l)}}t(ur,"tokenizeLabelStartImage");var it={name:"labelStartLink",tokenize:ar,resolveAll:gn.resolveAll};function ar(n,i,e){let r=this;return u;function u(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?e(o):i(o)}}t(ar,"tokenizeLabelStartLink");var Mn={name:"lineEnding",tokenize:or};function or(n,i){return e;function e(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),I(n,i,"linePrefix")}}t(or,"tokenizeLineEnding");var dn={name:"thematicBreak",tokenize:lr};function lr(n,i,e){let r=0,u;return a;function a(h){return n.enter("thematicBreak"),o(h)}function o(h){return u=h,l(h)}function l(h){return h===u?(n.enter("thematicBreakSequence"),f(h)):r>=3&&(h===null||S(h))?(n.exit("thematicBreak"),i(h)):e(h)}function f(h){return h===u?(n.consume(h),r++,f):(n.exit("thematicBreakSequence"),C(h)?I(n,l,"whitespace")(h):l(h))}}t(lr,"tokenizeThematicBreak");var G={name:"list",tokenize:pr,continuation:{tokenize:mr},exit:fr},sr={tokenize:xr,partial:!0},cr={tokenize:hr,partial:!0};function pr(n,i,e){let r=this,u=r.events[r.events.length-1],a=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,o=0;return l;function l(p){let A=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Ln(p)){if(r.containerState.type||(r.containerState.type=A,n.enter(A,{_container:!0})),A==="listUnordered")return n.enter("listItemPrefix"),p===42||p===45?n.check(dn,e,h)(p):h(p);if(!r.interrupt||p===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),f(p)}return e(p)}function f(p){return Ln(p)&&++o<10?(n.consume(p),f):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(n.exit("listItemValue"),h(p)):e(p)}function h(p){return n.enter("listItemMarker"),n.consume(p),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,n.check(pn,r.interrupt?e:m,n.attempt(sr,x,g))}function m(p){return r.containerState.initialBlankLine=!0,a++,x(p)}function g(p){return C(p)?(n.enter("listItemPrefixWhitespace"),n.consume(p),n.exit("listItemPrefixWhitespace"),x):e(p)}function x(p){return r.containerState.size=a+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,i(p)}}t(pr,"tokenizeListStart");function mr(n,i,e){let r=this;return r.containerState._closeFlow=void 0,n.check(pn,u,a);function u(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,I(n,i,"listItemIndent",r.containerState.size+1)(l)}t(u,"onBlank");function a(l){return r.containerState.furtherBlankLines||!C(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(cr,i,o)(l))}t(a,"notBlank");function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,I(n,n.attempt(G,i,e),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}t(o,"notInCurrentItem")}t(mr,"tokenizeListContinuation");function hr(n,i,e){let r=this;return I(n,u,"listItemIndent",r.containerState.size+1);function u(a){let o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?i(a):e(a)}}t(hr,"tokenizeIndent");function fr(n){n.exit(this.containerState.type)}t(fr,"tokenizeListEnd");function xr(n,i,e){let r=this;return I(n,u,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(a){let o=r.events[r.events.length-1];return!C(a)&&o&&o[1].type==="listItemPrefixWhitespace"?i(a):e(a)}}t(xr,"tokenizeListItemPrefixWhitespace");var Nn={name:"setextUnderline",tokenize:dr,resolveTo:gr};function gr(n,i){let e=n.length,r,u,a;for(;e--;)if(n[e][0]==="enter"){if(n[e][1].type==="content"){r=e;break}n[e][1].type==="paragraph"&&(u=e)}else n[e][1].type==="content"&&n.splice(e,1),!a&&n[e][1].type==="definition"&&(a=e);let o={type:"setextHeading",start:Object.assign({},n[u][1].start),end:Object.assign({},n[n.length-1][1].end)};return n[u][1].type="setextHeadingText",a?(n.splice(u,0,["enter",o,i]),n.splice(a+1,0,["exit",n[r][1],i]),n[r][1].end=Object.assign({},n[a][1].end)):n[r][1]=o,n.push(["exit",o,i]),n}t(gr,"resolveToSetextUnderline");function dr(n,i,e){let r=this,u;return a;function a(h){let m=r.events.length,g;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){g=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(n.enter("setextHeadingLine"),u=h,o(h)):e(h)}function o(h){return n.enter("setextHeadingLineSequence"),l(h)}function l(h){return h===u?(n.consume(h),l):(n.exit("setextHeadingLineSequence"),C(h)?I(n,f,"lineSuffix")(h):f(h))}function f(h){return h===null||S(h)?(n.exit("setextHeadingLine"),i(h)):e(h)}}t(dr,"tokenizeSetextUnderline");var Rt={tokenize:kr};function kr(n){let i=this,e=n.attempt(pn,r,n.attempt(this.parser.constructs.flowInitial,u,I(n,n.attempt(this.parser.constructs.flow,u,n.attempt(Jn,u)),"linePrefix")));return e;function r(a){if(a===null){n.consume(a);return}return n.enter("lineEndingBlank"),n.consume(a),n.exit("lineEndingBlank"),i.currentConstruct=void 0,e}function u(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),i.currentConstruct=void 0,e}}t(kr,"initializeFlow");var jt={resolveAll:Nt()},Wt=qt("string"),Ht=qt("text");function qt(n){return{tokenize:i,resolveAll:Nt(n==="text"?yr:void 0)};function i(e){let r=this,u=this.parser.constructs[n],a=e.attempt(u,o,l);return o;function o(m){return h(m)?a(m):l(m)}function l(m){if(m===null){e.consume(m);return}return e.enter("data"),e.consume(m),f}function f(m){return h(m)?(e.exit("data"),a(m)):(e.consume(m),f)}function h(m){if(m===null)return!0;let g=u[m],x=-1;if(g)for(;++x<g.length;){let p=g[x];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}t(qt,"initializeFactory");function Nt(n){return i;function i(e,r){let u=-1,a;for(;++u<=e.length;)a===void 0?e[u]&&e[u][1].type==="data"&&(a=u,u++):(!e[u]||e[u][1].type!=="data")&&(u!==a+2&&(e[a][1].end=e[u-1][1].end,e.splice(a+2,u-a-2),u=a+2),a=void 0);return n?n(e,r):e}}t(Nt,"createResolver");function yr(n,i){let e=0;for(;++e<=n.length;)if((e===n.length||n[e][1].type==="lineEnding")&&n[e-1][1].type==="data"){let r=n[e-1][1],u=i.sliceStream(r),a=u.length,o=-1,l=0,f;for(;a--;){let h=u[a];if(typeof h=="string"){for(o=h.length;h.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(h===-2)f=!0,l++;else if(h!==-1){a++;break}}if(l){let h={type:e===n.length||f||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},h.start),r.start.offset===r.end.offset?Object.assign(r,h):(n.splice(e,0,["enter",h,i],["exit",h,i]),e+=2)}e++}return n}t(yr,"resolveAllLineSuffixes");function Vt(n,i,e){let r=Object.assign(e?Object.assign({},e):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),u={},a=[],o=[],l=[],f=!0,h={consume:R,enter:W,exit:k,attempt:B(_),check:B(V),interrupt:B(V,{interrupt:!0})},m={previous:null,code:null,containerState:{},events:[],parser:n,sliceStream:M,sliceSerialize:A,now:D,defineSkip:b,write:p},g=i.tokenize.call(m,h),x;return i.resolveAll&&a.push(i),m;function p(E){return o=Z(o,E),H(),o[o.length-1]!==null?[]:(j(i,0),m.events=wn(a,m.events,m),m.events)}t(p,"write");function A(E,L){return Sr(M(E),L)}t(A,"sliceSerialize");function M(E){return br(o,E)}t(M,"sliceStream");function D(){let{line:E,column:L,offset:T,_index:q,_bufferIndex:Q}=r;return{line:E,column:L,offset:T,_index:q,_bufferIndex:Q}}t(D,"now");function b(E){u[E.line]=E.column,P()}t(b,"defineSkip");function H(){let E;for(;r._index<o.length;){let L=o[r._index];if(typeof L=="string")for(E=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===E&&r._bufferIndex<L.length;)w(L.charCodeAt(r._bufferIndex));else w(L)}}t(H,"main");function w(E){f=void 0,x=E,g=g(E)}t(w,"go");function R(E){S(E)?(r.line++,r.column=1,r.offset+=E===-3?2:1,P()):E!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=E,f=!0}t(R,"consume");function W(E,L){let T=L||{};return T.type=E,T.start=D(),m.events.push(["enter",T,m]),l.push(T),T}t(W,"enter");function k(E){let L=l.pop();return L.end=D(),m.events.push(["exit",L,m]),L}t(k,"exit");function _(E,L){j(E,L.from)}t(_,"onsuccessfulconstruct");function V(E,L){L.restore()}t(V,"onsuccessfulcheck");function B(E,L){return T;function T(q,Q,tn){let rn,s,nn,an;return Array.isArray(q)?J(q):"tokenize"in q?J([q]):c(q);function c(U){return Cn;function Cn(un){let kn=un!==null&&U[un],yn=un!==null&&U.null,Un=[...Array.isArray(kn)?kn:kn?[kn]:[],...Array.isArray(yn)?yn:yn?[yn]:[]];return J(Un)(un)}}function J(U){return rn=U,s=0,U.length===0?tn:hn(U[s])}function hn(U){return Cn;function Cn(un){return an=v(),nn=U,U.partial||(m.currentConstruct=U),U.name&&m.parser.constructs.disable.null.includes(U.name)?Bn(un):U.tokenize.call(L?Object.assign(Object.create(m),L):m,h,Qn,Bn)(un)}}function Qn(U){return f=!0,E(nn,an),Q}function Bn(U){return f=!0,an.restore(),++s<rn.length?hn(rn[s]):tn}}}t(B,"constructFactory");function j(E,L){E.resolveAll&&!a.includes(E)&&a.push(E),E.resolve&&$(m.events,L,m.events.length-L,E.resolve(m.events.slice(L),m)),E.resolveTo&&(m.events=E.resolveTo(m.events,m))}t(j,"addResult");function v(){let E=D(),L=m.previous,T=m.currentConstruct,q=m.events.length,Q=Array.from(l);return{restore:tn,from:q};function tn(){r=E,m.previous=L,m.currentConstruct=T,m.events.length=q,l=Q,P()}}t(v,"store");function P(){r.line in u&&r.column<2&&(r.column=u[r.line],r.offset+=u[r.line]-1)}t(P,"accountForPotentialSkip")}t(Vt,"createTokenizer");function br(n,i){let e=i.start._index,r=i.start._bufferIndex,u=i.end._index,a=i.end._bufferIndex,o;if(e===u)o=[n[e].slice(r,a)];else{if(o=n.slice(e,u),r>-1){let l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(n[u].slice(0,a))}return o}t(br,"sliceChunks");function Sr(n,i){let e=-1,r=[],u;for(;++e<n.length;){let a=n[e],o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=i?" ":"	";break}case-1:{if(!i&&u)continue;o=" ";break}default:o=String.fromCharCode(a)}u=a===-2,r.push(o)}return r.join("")}t(Sr,"serializeChunks");var ut={};oe(ut,{attentionMarkers:()=>Fr,contentInitial:()=>Er,disable:()=>Ar,document:()=>wr,flow:()=>zr,flowInitial:()=>Cr,insideSpan:()=>Lr,string:()=>Ir,text:()=>Tr});var wr={42:G,43:G,45:G,48:G,49:G,50:G,51:G,52:G,53:G,54:G,55:G,56:G,57:G,62:Pn},Er={91:Kn},Cr={[-2]:An,[-1]:An,32:An},zr={35:vn,42:dn,45:[Nn,dn],60:tt,61:Nn,95:dn,96:Rn,126:Rn},Ir={38:Dn,92:_n},Tr={[-5]:Mn,[-4]:Mn,[-3]:Mn,33:rt,38:Dn,42:Fn,60:[Zn,et],91:it,92:[Xn,_n],93:gn,95:Fn,96:Yn},Lr={null:[Fn,jt]},Fr={null:[42,95]},Ar={null:[]};function at(n){let e=zt([ut,...(n||{}).extensions||[]]),r={defined:[],lazy:{},constructs:e,content:u(Mt),document:u(Ot),flow:u(Rt),string:u(Wt),text:u(Ht)};return r;function u(a){return o;function o(l){return Vt(r,a,l)}}}t(at,"parse");function ot(n){for(;!jn(n););return n}t(ot,"postprocess");var Qt=/[\0\t\n\r]/g;function lt(){let n=1,i="",e=!0,r;return u;function u(a,o,l){let f=[],h,m,g,x,p;for(a=i+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),g=0,i="",e&&(a.charCodeAt(0)===65279&&g++,e=void 0);g<a.length;){if(Qt.lastIndex=g,h=Qt.exec(a),x=h&&h.index!==void 0?h.index:a.length,p=a.charCodeAt(x),!h){i=a.slice(g);break}if(p===10&&g===x&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),g<x&&(f.push(a.slice(g,x)),n+=x-g),p){case 0:{f.push(65533),n++;break}case 9:{for(m=Math.ceil(n/4)*4,f.push(-2);n++<m;)f.push(-1);break}case 10:{f.push(-4),n=1;break}default:r=!0,n=1}g=x+1}return l&&(r&&f.push(-5),i&&f.push(i),f.push(null)),f}}t(lt,"preprocess");var Mr=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ut(n){return n.replace(Mr,Br)}t(Ut,"decodeString");function Br(n,i,e){if(i)return i;if(e.charCodeAt(0)===35){let u=e.charCodeAt(1),a=u===120||u===88;return On(e.slice(a?2:1),a?16:10)}return Sn(e)||n}t(Br,"decode");function En(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?$t(n.position):"start"in n||"end"in n?$t(n):"line"in n||"column"in n?st(n):""}t(En,"stringifyPosition");function st(n){return Gt(n&&n.line)+":"+Gt(n&&n.column)}t(st,"point");function $t(n){return st(n&&n.start)+"-"+st(n&&n.end)}t($t,"position");function Gt(n){return n&&typeof n=="number"?n:1}t(Gt,"index");var Yt={}.hasOwnProperty;function Vn(n,i,e){return typeof i!="string"&&(e=i,i=void 0),Or(e)(ot(at(e).document().write(lt()(n,i,!0))))}t(Vn,"fromMarkdown");function Or(n){let i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(gt),autolinkProtocol:B,autolinkEmail:B,atxHeading:a(ht),blockQuote:a(Cn),characterEscape:B,characterReference:B,codeFenced:a(un),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(un,o),codeText:a(kn,o),codeTextData:B,data:B,codeFlowValue:B,definition:a(yn),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Un),hardBreakEscape:a(ft),hardBreakTrailing:a(ft),htmlFlow:a(xt,o),htmlFlowData:B,htmlText:a(xt,o),htmlTextData:B,image:a(te),label:o,link:a(gt),listItem:a(ee),listItemValue:x,listOrdered:a(dt,g),listUnordered:a(dt),paragraph:a(re),reference:c,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ht),strong:a(ie),thematicBreak:a(ae)},exit:{atxHeading:f(),atxHeadingSequence:W,autolink:f(),autolinkEmail:U,autolinkProtocol:Bn,blockQuote:f(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:hn,characterReferenceMarkerNumeric:hn,characterReferenceValue:Qn,codeFenced:f(D),codeFencedFence:M,codeFencedFenceInfo:p,codeFencedFenceMeta:A,codeFlowValue:j,codeIndented:f(b),codeText:f(T),codeTextData:j,data:j,definition:f(),definitionDestinationString:R,definitionLabelString:H,definitionTitleString:w,emphasis:f(),hardBreakEscape:f(P),hardBreakTrailing:f(P),htmlFlow:f(E),htmlFlowData:j,htmlText:f(L),htmlTextData:j,image:f(Q),label:rn,labelText:tn,lineEnding:v,link:f(q),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:J,resourceDestinationString:s,resourceTitleString:nn,resource:an,setextHeading:f(V),setextHeadingLineSequence:_,setextHeadingText:k,strong:f(),thematicBreak:f()}};Jt(i,(n||{}).mdastExtensions||[]);let e={};return r;function r(d){let y={type:"root",children:[]},z={stack:[y],tokenStack:[],config:i,enter:l,exit:h,buffer:o,resume:m,data:e},F=[],O=-1;for(;++O<d.length;)if(d[O][1].type==="listOrdered"||d[O][1].type==="listUnordered")if(d[O][0]==="enter")F.push(O);else{let en=F.pop();O=u(d,en,O)}for(O=-1;++O<d.length;){let en=i[d[O][0]];Yt.call(en,d[O][1].type)&&en[d[O][1].type].call(Object.assign({sliceSerialize:d[O][2].sliceSerialize},z),d[O][1])}if(z.tokenStack.length>0){let en=z.tokenStack[z.tokenStack.length-1];(en[1]||Zt).call(z,void 0,en[0])}for(y.position={start:mn(d.length>0?d[0][1].start:{line:1,column:1,offset:0}),end:mn(d.length>0?d[d.length-2][1].end:{line:1,column:1,offset:0})},O=-1;++O<i.transforms.length;)y=i.transforms[O](y)||y;return y}function u(d,y,z){let F=y-1,O=-1,en=!1,fn,on,zn,In;for(;++F<=z;){let K=d[F];switch(K[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{K[0]==="enter"?O++:O--,In=void 0;break}case"lineEndingBlank":{K[0]==="enter"&&(fn&&!In&&!O&&!zn&&(zn=F),In=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:In=void 0}if(!O&&K[0]==="enter"&&K[1].type==="listItemPrefix"||O===-1&&K[0]==="exit"&&(K[1].type==="listUnordered"||K[1].type==="listOrdered")){if(fn){let bn=F;for(on=void 0;bn--;){let ln=d[bn];if(ln[1].type==="lineEnding"||ln[1].type==="lineEndingBlank"){if(ln[0]==="exit")continue;on&&(d[on][1].type="lineEndingBlank",en=!0),ln[1].type="lineEnding",on=bn}else if(!(ln[1].type==="linePrefix"||ln[1].type==="blockQuotePrefix"||ln[1].type==="blockQuotePrefixWhitespace"||ln[1].type==="blockQuoteMarker"||ln[1].type==="listItemIndent"))break}zn&&(!on||zn<on)&&(fn._spread=!0),fn.end=Object.assign({},on?d[on][1].start:K[1].end),d.splice(on||F,0,["exit",fn,K[2]]),F++,z++}if(K[1].type==="listItemPrefix"){let bn={type:"listItem",_spread:!1,start:Object.assign({},K[1].start),end:void 0};fn=bn,d.splice(F,0,["enter",bn,K[2]]),F++,z++,zn=void 0,In=!0}}}return d[y][1]._spread=en,z}function a(d,y){return z;function z(F){l.call(this,d(F),F),y&&y.call(this,F)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(d,y,z){this.stack[this.stack.length-1].children.push(d),this.stack.push(d),this.tokenStack.push([y,z]),d.position={start:mn(y.start),end:void 0}}function f(d){return y;function y(z){d&&d.call(this,z),h.call(this,z)}}function h(d,y){let z=this.stack.pop(),F=this.tokenStack.pop();if(F)F[0].type!==d.type&&(y?y.call(this,d,F[0]):(F[1]||Zt).call(this,d,F[0]));else throw new Error("Cannot close `"+d.type+"` ("+En({start:d.start,end:d.end})+"): it\u2019s not open");z.position.end=mn(d.end)}function m(){return $n(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function x(d){if(this.data.expectingFirstListItemValue){let y=this.stack[this.stack.length-2];y.start=Number.parseInt(this.sliceSerialize(d),10),this.data.expectingFirstListItemValue=void 0}}function p(){let d=this.resume(),y=this.stack[this.stack.length-1];y.lang=d}function A(){let d=this.resume(),y=this.stack[this.stack.length-1];y.meta=d}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){let d=this.resume(),y=this.stack[this.stack.length-1];y.value=d.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){let d=this.resume(),y=this.stack[this.stack.length-1];y.value=d.replace(/(\r?\n|\r)$/g,"")}function H(d){let y=this.resume(),z=this.stack[this.stack.length-1];z.label=y,z.identifier=sn(this.sliceSerialize(d)).toLowerCase()}function w(){let d=this.resume(),y=this.stack[this.stack.length-1];y.title=d}function R(){let d=this.resume(),y=this.stack[this.stack.length-1];y.url=d}function W(d){let y=this.stack[this.stack.length-1];if(!y.depth){let z=this.sliceSerialize(d).length;y.depth=z}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function _(d){let y=this.stack[this.stack.length-1];y.depth=this.sliceSerialize(d).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function B(d){let z=this.stack[this.stack.length-1].children,F=z[z.length-1];(!F||F.type!=="text")&&(F=ue(),F.position={start:mn(d.start),end:void 0},z.push(F)),this.stack.push(F)}function j(d){let y=this.stack.pop();y.value+=this.sliceSerialize(d),y.position.end=mn(d.end)}function v(d){let y=this.stack[this.stack.length-1];if(this.data.atHardBreak){let z=y.children[y.children.length-1];z.position.end=mn(d.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes(y.type)&&(B.call(this,d),j.call(this,d))}function P(){this.data.atHardBreak=!0}function E(){let d=this.resume(),y=this.stack[this.stack.length-1];y.value=d}function L(){let d=this.resume(),y=this.stack[this.stack.length-1];y.value=d}function T(){let d=this.resume(),y=this.stack[this.stack.length-1];y.value=d}function q(){let d=this.stack[this.stack.length-1];if(this.data.inReference){let y=this.data.referenceType||"shortcut";d.type+="Reference",d.referenceType=y,delete d.url,delete d.title}else delete d.identifier,delete d.label;this.data.referenceType=void 0}function Q(){let d=this.stack[this.stack.length-1];if(this.data.inReference){let y=this.data.referenceType||"shortcut";d.type+="Reference",d.referenceType=y,delete d.url,delete d.title}else delete d.identifier,delete d.label;this.data.referenceType=void 0}function tn(d){let y=this.sliceSerialize(d),z=this.stack[this.stack.length-2];z.label=Ut(y),z.identifier=sn(y).toLowerCase()}function rn(){let d=this.stack[this.stack.length-1],y=this.resume(),z=this.stack[this.stack.length-1];if(this.data.inReference=!0,z.type==="link"){let F=d.children;z.children=F}else z.alt=y}function s(){let d=this.resume(),y=this.stack[this.stack.length-1];y.url=d}function nn(){let d=this.resume(),y=this.stack[this.stack.length-1];y.title=d}function an(){this.data.inReference=void 0}function c(){this.data.referenceType="collapsed"}function J(d){let y=this.resume(),z=this.stack[this.stack.length-1];z.label=y,z.identifier=sn(this.sliceSerialize(d)).toLowerCase(),this.data.referenceType="full"}function hn(d){this.data.characterReferenceType=d.type}function Qn(d){let y=this.sliceSerialize(d),z=this.data.characterReferenceType,F;z?(F=On(y,z==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):F=Sn(y);let O=this.stack.pop();O.value+=F,O.position.end=mn(d.end)}function Bn(d){j.call(this,d);let y=this.stack[this.stack.length-1];y.url=this.sliceSerialize(d)}function U(d){j.call(this,d);let y=this.stack[this.stack.length-1];y.url="mailto:"+this.sliceSerialize(d)}function Cn(){return{type:"blockquote",children:[]}}function un(){return{type:"code",lang:null,meta:null,value:""}}function kn(){return{type:"inlineCode",value:""}}function yn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Un(){return{type:"emphasis",children:[]}}function ht(){return{type:"heading",depth:0,children:[]}}function ft(){return{type:"break"}}function xt(){return{type:"html",value:""}}function te(){return{type:"image",title:null,url:"",alt:null}}function gt(){return{type:"link",title:null,url:"",children:[]}}function dt(d){return{type:"list",ordered:d.type==="listOrdered",start:null,spread:d._spread,children:[]}}function ee(d){return{type:"listItem",spread:d._spread,checked:null,children:[]}}function re(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function ue(){return{type:"text",value:""}}function ae(){return{type:"thematicBreak"}}}t(Or,"compiler");function mn(n){return{line:n.line,column:n.column,offset:n.offset}}t(mn,"point");function Jt(n,i){let e=-1;for(;++e<i.length;){let r=i[e];Array.isArray(r)?Jt(n,r):Pr(n,r)}}t(Jt,"configure");function Pr(n,i){let e;for(e in i)if(Yt.call(i,e))switch(e){case"canContainEols":{let r=i[e];r&&n[e].push(...r);break}case"transforms":{let r=i[e];r&&n[e].push(...r);break}case"enter":case"exit":{let r=i[e];r&&Object.assign(n[e],r);break}}}t(Pr,"extension");function Zt(n,i){throw n?new Error("Cannot close `"+n.type+"` ("+En({start:n.start,end:n.end})+"): a different token (`"+i.type+"`, "+En({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+En({start:i.start,end:i.end})+") is still open")}t(Zt,"defaultOnError");function _r(n,{markdownAutoWrap:i}){let e=n.replace(/\n{2,}/g,`
`),r=kt(e);return i===!1?r.replace(/ /g,"&nbsp;"):r}t(_r,"preprocessMarkdown");function Kt(n,i={}){let e=_r(n,i),{children:r}=Vn(e),u=[[]],a=0;function o(l,f="normal"){l.type==="text"?l.value.split(`
`).forEach((m,g)=>{g!==0&&(a++,u.push([])),m.split(" ").forEach(x=>{x&&u[a].push({content:x,type:f})})}):(l.type==="strong"||l.type==="emphasis")&&l.children.forEach(h=>{o(h,l.type)})}return t(o,"processNode"),r.forEach(l=>{l.type==="paragraph"&&l.children.forEach(f=>{o(f)})}),u}t(Kt,"markdownToLines");function Xt(n,{markdownAutoWrap:i}={}){let{children:e}=Vn(n);function r(u){return u.type==="text"?i===!1?u.value.replace(/\n/g,"<br/>").replace(/ /g,"&nbsp;"):u.value.replace(/\n/g,"<br/>"):u.type==="strong"?`<strong>${u.children.map(r).join("")}</strong>`:u.type==="emphasis"?`<em>${u.children.map(r).join("")}</em>`:u.type==="paragraph"?`<p>${u.children.map(r).join("")}</p>`:`Unsupported markdown: ${u.type}`}return t(r,"output"),e.map(r).join("")}t(Xt,"markdownToHTML");function Dr(n){return Intl.Segmenter?[...new Intl.Segmenter().segment(n)].map(i=>i.segment):[...n]}t(Dr,"splitTextToChars");function Rr(n,i){let e=Dr(i.content);return vt(n,[],e,i.type)}t(Rr,"splitWordToFitWidth");function vt(n,i,e,r){if(e.length===0)return[{content:i.join(""),type:r},{content:"",type:r}];let[u,...a]=e,o=[...i,u];return n([{content:o.join(""),type:r}])?vt(n,o,a,r):(i.length===0&&u&&(i.push(u),e.shift()),[{content:i.join(""),type:r},{content:e.join(""),type:r}])}t(vt,"splitWordToFitWidthRecursion");function ne(n,i){if(n.some(({content:e})=>e.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return ct(n,i)}t(ne,"splitLineToFitWidth");function ct(n,i,e=[],r=[]){if(n.length===0)return r.length>0&&e.push(r),e.length>0?e:[];let u="";n[0].content===" "&&(u=" ",n.shift());let a=n.shift()??{content:" ",type:"normal"},o=[...r];if(u!==""&&o.push({content:u,type:"normal"}),o.push(a),i(o))return ct(n,i,e,o);if(r.length>0)e.push(r),n.unshift(a);else if(a.content){let[l,f]=Rr(i,a);e.push([l]),f.content&&n.unshift(f)}return ct(n,i,e)}t(ct,"splitLineToFitWidthRecursion");function jr(n,i){i&&n.attr("style",i)}t(jr,"applyStyle");function Wr(n,i,e,r,u=!1){let a=n.append("foreignObject"),o=a.append("xhtml:div"),l=i.label,f=i.isNode?"nodeLabel":"edgeLabel";o.html(`<span class="${f} ${r}" `+(i.labelStyle?'style="'+i.labelStyle+'"':"")+">"+l+"</span>"),jr(o,i.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("max-width",e+"px"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),u&&o.attr("class","labelBkg");let h=o.node().getBoundingClientRect();return h.width===e&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",e+"px"),h=o.node().getBoundingClientRect()),a.style("width",h.width),a.style("height",h.height),a.node()}t(Wr,"addHtmlSpan");function pt(n,i,e){return n.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",i*e-.1+"em").attr("dy",e+"em")}t(pt,"createTspan");function Hr(n,i,e){let r=n.append("text"),u=pt(r,1,i);mt(u,e);let a=u.node().getComputedTextLength();return r.remove(),a}t(Hr,"computeWidthOfText");function ll(n,i,e){let r=n.append("text"),u=pt(r,1,i);mt(u,[{content:e,type:"normal"}]);let a=u.node()?.getBoundingClientRect();return a&&r.remove(),a}t(ll,"computeDimensionOfText");function qr(n,i,e,r=!1){let a=i.append("g"),o=a.insert("rect").attr("class","background"),l=a.append("text").attr("y","-10.1"),f=0;for(let h of e){let m=t(x=>Hr(a,1.1,x)<=n,"checkWidth"),g=m(h)?[h]:ne(h,m);for(let x of g){let p=pt(l,f,1.1);mt(p,x),f++}}if(r){let h=l.node().getBBox(),m=2;return o.attr("x",-m).attr("y",-m).attr("width",h.width+2*m).attr("height",h.height+2*m),a.node()}else return l.node()}t(qr,"createFormattedText");function mt(n,i){n.text(""),i.forEach((e,r)=>{let u=n.append("tspan").attr("font-style",e.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",e.type==="strong"?"bold":"normal");r===0?u.text(e.content):u.text(" "+e.content)})}t(mt,"updateTextContentAndStyles");function Nr(n){return n.replace(/fa[bklrs]?:fa-[\w-]+/g,i=>`<i class='${i.replace(":"," ")}'></i>`)}t(Nr,"replaceIconSubstring");var sl=t((n,i="",{style:e="",isTitle:r=!1,classes:u="",useHtmlLabels:a=!0,isNode:o=!0,width:l=200,addSvgBackground:f=!1}={},h)=>{if(yt.info("createText",i,e,r,u,a,o,f),a){let m=Xt(i,h),g=Nr(bt(m)),x={isNode:o,label:g,labelStyle:e.replace("fill:","color:")};return Wr(n,x,l,u,f)}else{let m=Kt(i,h);return qr(l,n,m,f)}},"createText");export{ll as a,Nr as b,sl as c};
